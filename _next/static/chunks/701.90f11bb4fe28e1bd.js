(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{5590:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(7437),l=n(2265),a=n(9072),i=n.n(a);function o(e){let{amount:t,setAmount:n}=e,[a,o]=(0,l.useState)(!1);return(0,s.jsx)("button",{onClick:a?()=>{o(!1),n(t-1)}:()=>{o(!0),n(t+1)},className:"flex-shrink-0 ".concat(i().heart," ").concat(a&&i().is_animating," ").concat(a&&i().liked),children:(0,s.jsx)("span",{className:"flex justify-end text-base font-normal",children:t})})}},8274:function(e,t,n){"use strict";var s=n(7437),l=n(2265);t.Z=function(e){let{classname:t="",items:n,sort:a}=e,[i,o]=(0,l.useState)(a);return(0,s.jsxs)("div",{className:"dropdown dropdown-end ".concat(t),children:[(0,s.jsxs)("label",{tabIndex:"0",className:"cursor-pointer my-auto whitespace-nowrap font-medium text-sm hover:text-accent-focus",children:["Sort: ",i,(0,s.jsx)("i",{className:"ri-arrow-drop-down-line"})]}),(0,s.jsx)("ul",{tabIndex:"0",className:"z-50 dropdown-content menu shadow-lg bg-base-100 rounded-md",children:n.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:e.href,children:e.label})},"sort-".concat(t)))})]})}},701:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(7437),l=n(2265),a=n(8439),i=n(171);function o(){return(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between w-full pb-3 border-b-2 border-b-neutral",children:[(0,s.jsx)("div",{className:"animate-skeleton w-56 h-5 pl-2 sm:pl-4"}),(0,s.jsx)("div",{className:"animate-skeleton w-24 h-4"})]}),(0,s.jsx)("ul",{children:Array.from({length:6},(e,t)=>t+1).map(e=>(0,s.jsxs)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,s.jsx)("div",{className:"animate-skeleton w-12 h-12 rounded-full"}),(0,s.jsxs)("div",{className:"ml-4 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"animate-skeleton w-32 h-5 mb-1"}),(0,s.jsx)("div",{className:"animate-skeleton w-28 h-3"})]})]}),(0,s.jsx)("div",{className:"animate-skeleton w-15 h-15 rounded-full"})]},"loading-item-".concat(e)))})]})}var r=n(1855),c=n(4016),d=n(6691),u=n.n(d),m=n(8274);let f=[{label:"Hotness",href:"/forum"},{label:"Recent Comments",href:"/forum"},{label:"Recently Posted",href:"/forum"},{label:"Most Votes",href:"/forum"},{label:"Most Comments",href:"/forum"}];var h=function(){var e,t;let[n,d]=(0,l.useState)(1),{pin_posts:h,isLoadingPinPost:p,isErrorPinPost:x}=c.Z.ListPinPostForSchool();return((0,l.useEffect)(()=>{x&&(i.toast.error(x),console.log("ListPost",x))},[x]),p||!h)?(0,s.jsx)(o,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-16 ".concat(1===n?"block":"hidden"),children:[(0,s.jsxs)("div",{className:"flex justify-between border-b-2 border-b-neutral",children:[(0,s.jsx)("h3",{className:"pl-2 sm:pl-4",children:"Pinned Posts"}),(0,s.jsx)(m.Z,{items:f,sort:"Hotness"})]}),(0,s.jsx)("ul",{children:(null==h?void 0:null===(e=h.results)||void 0===e?void 0:e.length)>0?null==h?void 0:null===(t=h.results)||void 0===t?void 0:t.map((e,t)=>(0,s.jsx)(a.default,{value:e.heart,link:"/forum/detail?id=".concat(e.id),title:e.title,author:e.username,icon:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("i",{className:"ri-pushpin-line absolute bg-base-100 text-sm -bottom-1 -right-0.5 px-1 py-0.5 rounded-full"}),(0,s.jsx)(u(),{width:48,height:48,className:"rounded-full h-12",src:e.avatar,alt:"avatar.jpg"})]})},t)):(0,s.jsx)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:(0,s.jsx)("div",{className:"flex justify-center items-center flex-1",children:"No pinned posts in this school"})})})]}),(0,s.jsx)(r.Z,{page:n,total:null==h?void 0:h.count,limit:6,setPage:d})]})}},1855:function(e,t,n){"use strict";var s=n(7437),l=n(1787);n(2265),t.Z=function(e){let{page:t,total:n,limit:a,setPage:i}=e,o=e=>{(0,l.tY)(0),i(e)};return(0,s.jsx)("div",{className:"join flex flex-wrap justify-center mb-8 max-w-full",children:Array.from({length:Math.ceil(n/a)},(e,t)=>t+1).map(e=>(0,s.jsx)("button",{onClick:()=>o(e),className:"join-item !rounded-full bg-neutral hover:btn-accent w-10 h-10 p-2 m-2 ".concat(e===t?"btn-active btn-accent":""),children:e},"page-".concat(e)))})}},8439:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n(7437),l=n(2265),a=n(5590),i=n(1396),o=n.n(i);function r(e){let{value:t,link:n,title:i,author:r,icon:c}=e,[d,u]=(0,l.useState)(t);return(0,s.jsxs)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[c,(0,s.jsxs)("div",{className:"ml-2 sm:ml-4 flex-1 line-clamp-2",children:[(0,s.jsx)(o(),{href:n,children:(0,s.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:i})}),(0,s.jsxs)("ul",{className:"flex flex-col list-disc sm:list-none sm:flex-row sm:items-center sm:space-x-2",children:[r&&(0,s.jsx)("li",{className:"text-sm font-normal underline",children:r}),(0,s.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"}),(0,s.jsxs)("li",{className:"text-sm font-normal hidden sm:inline",children:["in ",(0,s.jsx)("span",{className:"underline",children:"General"})]}),(0,s.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"}),(0,s.jsxs)("li",{className:"text-sm font-normal hidden sm:inline",children:["Last comment 5 minutes ago by"," ",(0,s.jsx)("span",{className:"underline",children:"Ms. Maggie"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsx)(a.Z,{amount:d,setAmount:u}),(0,s.jsx)("span",{children:"2 comments"})]})]})}},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return c},unstable_getImgProps:function(){return r}});let s=n(1024),l=n(2301),a=n(7873),i=n(3222),o=s._(n(6515)),r=e=>{(0,a.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,l.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}},c=i.Image},4016:function(e,t,n){"use strict";var s=n(6457),l=n(7217),a=n(713);t.Z={ListPinPostForSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n="".concat(s.bl,"/api/v1/posts-pinned?limit=").concat(e,"&offset=").concat(t),{data:i,isLoading:o}=(0,a.ZP)(n,l.Z);return{pin_posts:null==i?void 0:i.data,isLoadingPinPost:o,isErrorPinPost:(null==i?void 0:i.status)===!1&&(null==i?void 0:i.message)}},SearchPostSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i="".concat(s.bl,"/api/v1/posts/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(n),{data:o,isLoading:r}=(0,a.ZP)(i,l.Z);return{posts:o,isLoading:r,isError:(null==o?void 0:o.status)===!1&&(null==o?void 0:o.message)}},GetDetailPost:e=>{let t="".concat(s.bl,"/api/v1/posts/").concat(e),{data:n,isLoading:i}=(0,a.ZP)(t,l.Z);return{detail_post:n,isLoading:i,isError:(null==n?void 0:n.status)===!1&&(null==n?void 0:n.message)}},ListCommentPost:(e,t,n)=>{let i="".concat(s.bl,"/api/v1/posts/").concat(e,"/comments?limit=").concat(t,"&offset=").concat(n),{data:o,isLoading:r}=(0,a.ZP)(i,l.Z);return{comments_post:o,isLoading:r,isError:(null==o?void 0:o.status)===!1&&(null==o?void 0:o.message)}},CreatePostSchool:(e,t,n)=>{let a="".concat(s.bl,"/api/v1/posts");return(0,l.Z)(a,"POST",{subject:e,content:t,tags:n})},UploadImagePost:(e,t,n)=>{let a="".concat(s.bl,"/api/v1/posts/").concat(e,"/images");return(0,l.Z)(a,"POST",{image:t,caption:n})},CreateLocationPost:(e,t,n,a,i)=>{let o="".concat(s.bl,"/api/v1/post/").concat(e,"/location");return(0,l.Z)(o,"PUT",{primary_street_name:t,secondary_street_name:n,primary_location:a,secondary_location:i})},PinPostSchool:e=>{let t="".concat(s.bl,"/api/v1/posts/pinned/").concat(e);return(0,l.Z)(t,"PUT")},LikePost:e=>{let t="".concat(s.bl,"/api/v1/posts/").concat(e,"/");return(0,l.Z)(t,"PUT")},RemovePinPostSchool:e=>{let t="".concat(s.bl,"/api/v1/posts/pinned/").concat(e);return(0,l.Z)(t,"DELETE")},RemoveLikePost:e=>{let t="".concat(s.bl,"/api/v1/posts/").concat(e,"/");return(0,l.Z)(t,"DELETE")},TotalPost:()=>(0,l.Z)("".concat("https://jsonserver-i5n0.onrender.com","/stats"))}},5039:function(e,t,n){"use strict";var s=n(5484);t.Z={getItem:async e=>(0,s.U2)(e).then(e=>e).catch(e=>{}),setItem:async(e,t)=>{await (0,s.t8)(e,t)},removeItem:async e=>{await (0,s.IV)(e)}}},6457:function(e,t,n){"use strict";n.d(t,{Cx:function(){return s},DN:function(){return l},bl:function(){return a}});let s="w3iggrA5WlOIoKGqvfjTJzdqdYWSsG3dCcUYpVT8",l="VDBAYgCdkAkrIxamKXptPSMrvvNKZFMLEs9Z7hhO4QUbkUR1iKntEXaIlZLiyaZ8wRnEIENbBJBF9PnthzI73LUtYqBmk2qI9yDmAGMKS3yushSzkQewdpTJy4k9O6iT",a="http://ky-de-appli-1fdbxk808lvu0-550379223.us-east-1.elb.amazonaws.com"},7217:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(5039);async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={method:t?String(t||"").toUpperCase():"GET"};"GET"!==a.method&&(n.files?a.body=n.files:a.body=JSON.stringify(n||{})),a.headers={"Content-Type":"application/json",...l},n.files&&delete a.headers["Content-Type"];let i=await s.Z.getItem("forumUser");if(i){var o;let e=JSON.parse(i),t=null==e?void 0:null===(o=e.state)||void 0===o?void 0:o.access;t&&(a.headers.Authorization="Bearer ".concat(t))}return fetch(e,a).then(e=>e.json())}},1787:function(e,t,n){"use strict";n.d(t,{tY:function(){return s}});let s=function(e){window.scrollTo({top:e,behavior:"smooth"})}},9072:function(e){e.exports={heart:"Heart_heart__XQp9J",liked:"Heart_liked__3nizD",is_animating:"Heart_is_animating__wMhvd","heart-burst":"Heart_heart-burst__GquLA"}},6691:function(e,t,n){e.exports=n(1295)}}]);