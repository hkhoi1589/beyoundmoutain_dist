(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8167],{2601:function(e,t,n){"use strict";var r,l;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(l=n.g.process)?void 0:l.env)?n.g.process:n(8960)},9599:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);n(2265);var l=n(9072),a=n.n(l);function s(e){let{amount:t}=e;return(0,r.jsx)("button",{className:"flex-shrink-0 ".concat(a().heart," bg-left"),children:(0,r.jsx)("span",{className:"flex justify-end text-base font-normal",children:t})})}n(4016)},1104:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437),l=n(1396),a=n.n(l);function s(e){let{className:t="",items:n}=e;return(0,r.jsx)("div",{className:"space-x-4 mb-4 flex justify-between sm:justify-normal ".concat(t),children:n.map((e,t)=>(0,r.jsx)(a(),{href:e.href,className:"btn btn-sm ".concat(!e.active&&"btn-outline"),children:e.label},"tab_badge-".concat(t)))})}n(2265)},5493:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(7437),l=n(6691),a=n.n(l);function s(e){let{className:t,url:n,name:l}=e;return(0,r.jsx)("div",{className:"avatar placeholder",children:(0,r.jsx)("div",{className:"bg-base-300/60 rounded-full ".concat(t),children:n?(0,r.jsx)(a(),{src:n,alt:"avatar.jpg",width:0,height:0,style:{width:"100%",height:"auto"}}):(0,r.jsx)("span",{className:"text-2xl uppercase",children:l})})})}},1824:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7437),l=n(2265),a=n(9716),s=n(1513),o=n(209);function i(e){let{className:t=""}=e,[n,i]=(0,l.useState)("Post"),[c,u]=(0,l.useState)(!1),[d,f]=(0,l.useState)(!1),[m,p]=(0,l.useState)(""),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,[n,r]=(0,l.useState)(""),a=(0,l.useRef)();return(0,l.useEffect)(()=>(a.current=setTimeout(()=>r(e),t),()=>{clearTimeout(a.current)}),[e,t]),n}(m,500);(0,l.useEffect)(()=>{h?f(!0):f(!1)},[h]);let v=e=>{u(!1),i(e)};return(0,r.jsx)("div",{className:"container mx-auto p-4 ".concat(t),children:(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("button",{className:"btn btn-sm btn-ghost btn-circle z-10 absolute top-2 left-2",children:(0,r.jsx)("i",{className:"ri-search-line text-xl opacity-80"})}),(0,r.jsxs)("div",{className:"dropdown w-full",children:[(0,r.jsx)("input",{className:"w-full input border-neutral rounded-full pl-10 pr-24",placeholder:"Search",onChange:e=>p(e.target.value),tabIndex:1}),(0,r.jsx)("div",{tabIndex:1,className:"dropdown-content z-40 shadow bg-base-100 rounded-box w-full",children:h&&"User"===n?(0,r.jsx)(o.Z,{loader:d,limit:20,q:h}):"Channel"===n?(0,r.jsx)(s.default,{loader:d,limit:20,q:h}):(0,r.jsx)(a.Z,{loader:d,limit:20,q:h})})]}),(0,r.jsxs)("div",{className:"dropdown dropdown-end absolute right-2 top-2 ".concat(c?"dropdown-open":""),children:[(0,r.jsx)("label",{className:"btn btn-sm rounded-full",onClick:()=>u(!c),children:n}),(0,r.jsxs)("ul",{className:"dropdown-content z-40 menu p-2 shadow bg-base-100 rounded-box w-32",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{onClick:()=>v("Post"),children:"Post"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{onClick:()=>v("Channel"),children:"Channel"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{onClick:()=>v("User"),children:"User"})})]})]})]})})}},9716:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7437),l=n(2265),a=n(9599),s=n(1396),o=n.n(s),i=n(5493);function c(e){let{uuid:t,subject:n,author:s,last_comment:c,thumps_up:u,fill:d}=e,[f]=(0,l.useState)(s||{});return(0,r.jsxs)("li",{className:"flex items-center justify-between p-2 sm:p-4",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,r.jsx)(i.default,{url:f.avatar,name:n?null==n?void 0:n.charAt(0):"Me",className:"w-12"}),(0,r.jsxs)("div",{className:"ml-2 sm:ml-4 flex-1 line-clamp-2",children:[(0,r.jsx)(o(),{href:"/forum/detail?id=".concat(t),children:(0,r.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:n})}),(0,r.jsxs)("ul",{className:"flex flex-col list-disc sm:list-none sm:flex-row sm:items-center sm:space-x-2",children:[f.full_name&&(0,r.jsx)("li",{className:"text-sm font-normal underline",children:f.full_name}),c&&(0,r.jsx)("li",{className:"font-bold hidden sm:inline",children:"â€¢"}),(0,r.jsx)("li",{className:"text-sm font-normal hidden sm:inline",children:(0,r.jsx)("span",{className:"underline",children:c})})]})]})]}),d&&(0,r.jsx)("div",{className:"flex flex-col items-end",children:(0,r.jsx)(a.Z,{amount:null==u?void 0:u.length})})]})}var u=n(9450);function d(e){let{className:t="",src:n="/api/v1/posts/search",loader:a=!1,limit:s=10,q:o="",fill:i}=e;if(!a)return;let{data:d,error:f,size:m,setSize:p,hitEnd:h}=(0,u.Q)(n,{limit:s,q:o});return f?"An error has occurred.":(0,r.jsxs)("div",{children:[d&&d.map((e,n)=>(0,r.jsx)("ul",{className:"divide-y-2 divide-neutral ".concat(t),children:e.data&&e.data.results&&e.data.results.map((e,t)=>(0,l.createElement)(c,{...e,key:t,fill:i}))},n)),d&&d.length>0?!h&&s<d.length&&(0,r.jsx)("div",{className:"text-center my-4",children:(0,r.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>p(m+1),children:"Load more"})}):(0,r.jsx)("div",{className:"text-center my-4 text-lg",children:"No data"})]})}},209:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(7437),l=n(2265),a=n(1396),s=n.n(a),o=n(5493);function i(e){let{uuid:t,email:n,full_name:l,avatar:a}=e;return(0,r.jsx)("li",{className:"flex items-center justify-between p-2 sm:p-4",children:(0,r.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,r.jsx)(o.default,{url:a,name:l?l.charAt(0):"",className:"w-12"}),(0,r.jsx)("div",{className:"ml-2 sm:ml-4 flex-1 line-clamp-2",children:(0,r.jsxs)(s(),{href:"/user/".concat(t),children:[(0,r.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:l}),(0,r.jsx)("p",{className:"text-sm hover:text-accent-focus",children:n})]})})]})})}var c=n(9450);function u(e){let{className:t="",src:n="/api/v1/users/search",loader:a=!1,limit:s=10,q:o=""}=e;if(!a)return;let{data:u,error:d,size:f,setSize:m,hitEnd:p}=(0,c.Q)(n,{limit:s,q:o});return d?"An error has occurred.":(0,r.jsxs)("div",{children:[u&&u.map((e,n)=>(0,r.jsx)("ul",{className:"divide-y-2 divide-neutral ".concat(t),children:e.data&&e.data.results&&e.data.results.map((e,t)=>(0,l.createElement)(i,{...e,key:t,fill:!0}))},n)),u&&u.length>0?!p&&s<u.length&&(0,r.jsx)("div",{className:"text-center my-4",children:(0,r.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>m(f+1),children:"Load more"})}):(0,r.jsx)("div",{className:"text-center my-4 text-lg",children:"No data"})]})}},8864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=n(1024);n(2265);let l=r._(n(533));function a(e){return{default:(null==e?void 0:e.default)||e}}function s(e,t){let n=l.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e),Object.assign(r,t);let s=r.loader;return n({...r,loader:()=>null!=s?s().then(a):Promise.resolve(a(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{suspense:function(){return l},NoSSR:function(){return a}}),n(1024),n(2265);let r=n(7669);function l(){let e=Error(r.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=r.NEXT_DYNAMIC_NO_SSR_CODE,e}function a(e){let{children:t}=e;return t}},533:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=n(1024),l=r._(n(2265)),a=n(3699),s=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function n(e){let n=t.loading,r=l.default.createElement(n,{isLoading:!0,pastDelay:!0,error:null}),s=t.ssr?l.default.Fragment:a.NoSSR,o=t.lazy;return l.default.createElement(l.default.Suspense,{fallback:r},l.default.createElement(s,null,l.default.createElement(o,e)))}return t.lazy=l.default.lazy(t.loader),n.displayName="LoadableComponent",n}},4016:function(e,t,n){"use strict";var r=n(6457),l=n(7217),a=n(713),s=n(2601);t.Z={ListPinPostForSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n="".concat(r.bl,"/api/v1/posts-pinned?limit=").concat(e,"&offset=").concat(t),{data:s,isLoading:o}=(0,a.ZP)(n,l.Z);return{pinPosts:null==s?void 0:s.data,isLoading:o,isError:(null==s?void 0:s.status)===!1?null==s?void 0:s.message:""}},SearchPostSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s="".concat(r.bl,"/api/v1/posts/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(n),{data:o,isLoading:i}=(0,a.ZP)(s,l.Z);return{posts:null==o?void 0:o.data,isLoading:i,isError:(null==o?void 0:o.status)===!1?null==o?void 0:o.message:""}},GetDetailPost:e=>{let t="".concat(r.bl,"/api/v1/posts/").concat(e),{data:n,isLoading:s,mutate:o}=(0,a.ZP)(t,l.Z);return{post:null==n?void 0:n.data,isLoading:s,isError:(null==n?void 0:n.status)===!1?null==n?void 0:n.message:"",mutate:o}},ListCommentPost:(e,t,n)=>{let s="".concat(r.bl,"/api/v1/posts/").concat(e,"/comments?limit=").concat(t,"&offset=").concat(n),{data:o,isLoading:i}=(0,a.ZP)(s,l.Z);return{comments_post:null==o?void 0:o.data,isLoading:i,isError:(null==o?void 0:o.status)===!1?Object.values(null==o?void 0:o.error)[0]:""}},CreatePostSchool:(e,t,n)=>{let a="".concat(r.bl,"/api/v1/posts");return(0,l.Z)(a,"POST",{subject:e,content:t,tags:n})},UploadImagePost:(e,t,n)=>{let a="".concat(r.bl,"/api/v1/posts/").concat(e,"/image"),s=new FormData;return s.append("image",t),s.append("caption",n),(0,l.Z)(a,"POST",{files:s},{"Content-Type":"multipart/form-data"})},CreateLocationPost:(e,t,n,a,s)=>{let o="".concat(r.bl,"/api/v1/post/").concat(e,"/location");return(0,l.Z)(o,"PUT",{primary_street_name:t,secondary_street_name:n,primary_location:a,secondary_location:s})},PinPostSchool:e=>{let t="".concat(r.bl,"/api/v1/posts/pinned/").concat(e);return(0,l.Z)(t,"PUT")},LikePost:e=>{let t="".concat(r.bl,"/api/v1/posts/").concat(e,"/");return(0,l.Z)(t,"PUT")},RemovePinPostSchool:e=>{let t="".concat(r.bl,"/api/v1/posts/pinned/").concat(e);return(0,l.Z)(t,"DELETE")},RemoveLikePost:e=>{let t="".concat(r.bl,"/api/v1/posts/").concat(e,"/");return(0,l.Z)(t,"DELETE")},TotalPost:()=>{let e="".concat(s.env.NEXT_PUBLIC_BASIC_API_ENDPOINT,"/stats");return(0,l.Z)(e)}}},9072:function(e){e.exports={heart:"Heart_heart__XQp9J",liked:"Heart_liked__3nizD",is_animating:"Heart_is_animating__wMhvd","heart-burst":"Heart_heart-burst__GquLA"}},8960:function(e){!function(){var t={229:function(e){var t,n,r,l=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var i=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?i=r.concat(i):u=-1,i.length&&f())}function f(){if(!c){var e=o(d);c=!0;for(var t=i.length;t;){for(r=i,i=[];++u<t;)r&&r[u].run();u=-1,t=i.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}l.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];i.push(new m(e,t)),1!==i.length||c||o(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=p,l.addListener=p,l.once=p,l.off=p,l.removeListener=p,l.removeAllListeners=p,l.emit=p,l.prependListener=p,l.prependOnceListener=p,l.listeners=function(e){return[]},l.binding=function(e){throw Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw Error("process.chdir is not supported")},l.umask=function(){return 0}}},n={};function r(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}},s=!0;try{t[e](a,a.exports,r),s=!1}finally{s&&delete n[e]}return a.exports}r.ab="//";var l=r(229);e.exports=l}()},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),l=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!i.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:l,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},7437:function(e,t,n){"use strict";e.exports=n(622)},1396:function(e,t,n){e.exports=n(6685)},4033:function(e,t,n){e.exports=n(8165)},7405:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var r=n(2265),l=n(713),a=n(4796),s=n(6272);let o=e=>(0,a.qC)(e?e(0,null):null)[0],i=Promise.resolve(),c=(0,a.xD)(l.ZP,e=>(t,n,l)=>{let c;let u=(0,r.useRef)(!1),{cache:d,initialSize:f=1,revalidateAll:m=!1,persistSize:p=!1,revalidateFirstPage:h=!0,revalidateOnMount:v=!1,parallel:x=!1}=l;try{(c=o(t))&&(c="$inf$"+c)}catch(e){}let[b,j,_]=(0,a.JN)(d,c),g=(0,r.useCallback)(()=>{let e=(0,a.o8)(b()._l)?f:b()._l;return e},[d,c,f]);(0,s.useSyncExternalStore)((0,r.useCallback)(e=>c?_(c,()=>{e()}):()=>{},[d,c]),g,g);let y=(0,r.useCallback)(()=>{let e=b()._l;return(0,a.o8)(e)?f:e},[c,f]),N=(0,r.useRef)(y());(0,a.LI)(()=>{if(!u.current){u.current=!0;return}c&&j({_l:p?N.current:y()})},[c,d]);let P=v&&!u.current,w=e(c,async e=>{let r=b()._i,s=[],o=y(),[i]=(0,a.JN)(d,e),c=i().data,u=[],f=null;for(let e=0;e<o;++e){let[o,i]=(0,a.qC)(t(e,x?null:f));if(!o)break;let[p,v]=(0,a.JN)(d,o),b=p().data,j=m||r||(0,a.o8)(b)||h&&!e&&!(0,a.o8)(c)||P||c&&!(0,a.o8)(c[e])&&!l.compare(c[e],b);if(n&&j){let t=async()=>{v({data:b=await n(i),_k:i}),s[e]=b};x?u.push(t):await t()}else s[e]=b;x||(f=b)}return x&&await Promise.all(u.map(e=>e())),j({_i:a.i_}),s},l),E=(0,r.useCallback)(function(e,t){let n="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==n.revalidate;return c?(r&&((0,a.o8)(e)?j({_i:!0}):j({_i:!1})),arguments.length?w.mutate(e,{...n,revalidate:r}):w.mutate()):i},[c,d]),T=(0,r.useCallback)(e=>{let n;if(!c)return i;let[,r]=(0,a.JN)(d,c);if((0,a.mf)(e)?n=e(y()):"number"==typeof e&&(n=e),"number"!=typeof n)return i;r({_l:n}),N.current=n;let l=[],[s]=(0,a.JN)(d,c),o=null;for(let e=0;e<n;++e){let[n]=(0,a.qC)(t(e,o)),[r]=(0,a.JN)(d,n),i=n?r().data:a.i_;if((0,a.o8)(i))return E(s().data);l.push(i),o=i}return E(l)},[c,d,E,y]);return{size:y(),setSize:T,mutate:E,get data(){return w.data},get error(){return w.error},get isValidating(){return w.isValidating},get isLoading(){return w.isLoading}}})}}]);