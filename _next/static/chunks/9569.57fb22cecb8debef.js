"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9569],{9569:function(e,t,r){r.r(t);var s=r(7437),l=r(4897),a=r(1824),n=r(6816),o=r(6301),i=r(8625),c=r(1396),u=r.n(c),d=r(2265),p=r(171);t.default=function(e){var t,r;let{className:c=""}=e,[m,f]=(0,d.useState)(!1),[v,b]=(0,d.useState)(""),[h,x]=(0,d.useState)(""),[g,P]=(0,d.useState)(!1),{dataChannels:Z,setDataChannels:j,setLoadingAdd:y}=(0,i.t_)(),{profile:N}=(0,i.LM)(),{friends:w,isLoading:U,isError:C}=o.Z.GetFriends(N.user_id),E=async()=>{var e;P(!0),y(!0);let t=await n.Z.CreateChannelSchool(v,h,m);if(null==t?void 0:t.status){let r={count:Z.count+1,results:[{description:h,member:0,name:v,owner:N,posts:0},...Z.results]};j(r),p.toast.success(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)}else p.toast.error(null==t?void 0:t.message);P(!1),y(!1)};return(0,s.jsxs)(l.Z,{className:"btn btn-sm btn-primary hover:text-base-300 rounded-full ".concat(c),title:"New Channel",handleSubmit:E,children:[(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Create A Channel"}),(0,s.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),className:"outline-none placeholder:truncate h-10 pt-4 text-base bg-transparent border-solid border-b-neutral border-b-2 input-sm w-full focus-within:border-primary",placeholder:"Add a name..."}),(0,s.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),className:"outline-none placeholder:truncate h-10 pt-4 text-base bg-transparent border-solid border-b-neutral border-b-2 input-sm w-full focus-within:border-primary",placeholder:"Description..."}),(0,s.jsx)("div",{className:"text-sm font-semibold pt-3 pb-2",children:"Visibility"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("label",{className:"flex items-center mb-2 text-sm",htmlFor:"radio_public",children:[(0,s.jsx)("input",{type:"radio",id:"radio_public",name:"radio_channel1",className:"radio mr-4",onChange:()=>f(!1),checked:!m}),"Public - anyone in [school name]"]}),(0,s.jsxs)("label",{className:"flex items-center mb-2 text-sm",htmlFor:"radio_private",children:[(0,s.jsx)("input",{type:"radio",id:"radio_private",name:"radio_channel2",className:"radio mr-4",onChange:()=>f(!0),checked:m}),(0,s.jsxs)("div",{className:"flex flex-col",children:["Private - Only specific people",(0,s.jsx)("span",{className:"text-neutral-focus",children:"join by invitation"})]})]})]}),(0,s.jsx)("div",{className:"text-sm font-normal pt-3 pb-2",children:"Invite member to this Channel"}),(0,s.jsx)(a.Z,{className:"w-full"}),(0,s.jsx)("ul",{className:"overflow-y-auto max-h-52",children:(null==w?void 0:null===(t=w.results)||void 0===t?void 0:t.length)>0?null==w?void 0:null===(r=w.results)||void 0===r?void 0:r.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center py-1",children:[(0,s.jsx)("input",{type:"checkbox",className:"checkbox mr-4"}),(0,s.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[null==e?void 0:e.avatar,(0,s.jsx)("div",{className:"ml-4 flex-1 line-clamp-2",children:(0,s.jsx)(u(),{href:e&&e.uuid?e.uuid:"#",children:(0,s.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:null==e?void 0:e.full_name})})})]})]},"member-".concat(t))):(0,s.jsx)("li",{className:"flex items-center py-1",children:(0,s.jsx)("div",{className:"flex justify-center items-center flex-1",children:"No Friends"})})})]})}},6301:function(e,t,r){var s=r(6457),l=r(7217),a=r(713);t.Z={GetFriends:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i="".concat(s.bl,"/api/v1/users/").concat(e,"/friends?ordering=").concat(t,"&limit=").concat(r,"&offset=").concat(n,"&q=").concat(o),{data:c,isLoading:u}=(0,a.ZP)(i,l.Z);return{friends:null==c?void 0:c.data,isLoading:u,isError:(null==c?void 0:c.status)===!1?null==c?void 0:c.message:""}},GetFriendsRequest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="".concat(s.bl,"/api/v1/users/").concat(e,"/friend-request?limit=").concat(t,"&offset=").concat(r),{data:o,isLoading:i,mutate:c}=(0,a.ZP)(n,l.Z);return{requests:null==o?void 0:o.data,isLoading:i,isError:(null==o?void 0:o.status)===!1?null==o?void 0:o.message:"",mutate:c}},GetProfile:()=>{let e="".concat(s.bl,"/api/v1/userprofile/me"),{data:t,isLoading:r}=(0,a.ZP)(e,l.Z);return{profile:t,isLoading:r,isError:(null==t?void 0:t.status)===!1?null==t?void 0:t.message:""}},GetUserProfile:e=>{let t="".concat(s.bl,"/api/v1/userprofile/").concat(e,"/profile"),{data:r,isLoading:n,error:o}=(0,a.ZP)(t,l.Z);return{user_profile:r,isLoading:n,isError:o}},SearchAllUser:(e,t,r)=>{let n="".concat(s.bl,"/api/v1/users/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(r),{data:o,isLoading:i}=(0,a.ZP)(n,l.Z);return{users:o,isLoading:i,isError:(null==o?void 0:o.status)===!1?null==o?void 0:o.message:""}},AddHobbyUserProfile:(e,t)=>{let r="".concat(s.bl,"/api/v1/hobby/profile");return(0,l.Z)(r,"POST",{type_id:e,description:t})},SendFriendRequest:(e,t)=>{let r="".concat(s.bl,"/api/v1/users/").concat(e,"/friend-request");return(0,l.Z)(r,"POST",{message:t})},AcceptFriendRequest:e=>{let t="".concat(s.bl,"/api/v1/users/").concat(e,"/accept-friend");return(0,l.Z)(t,"POST")},UpdateHobbyUserProfile:(e,t,r)=>{let a="".concat(s.bl,"/api/v1/hobby/profile");return(0,l.Z)(a,"PUT",{id:e,type_id:t,description:r})},UpdateLocationUserProfile:(e,t,r,a,n,o,i,c,u,d,p)=>{let m="".concat(s.bl,"/api/v1/location/profile");return(0,l.Z)(m,"PUT",{primary_street_name:e,secondary_street_name:t,primary_location:r,secondary_location:a,city:n,city_area:o,state:i,postal_code:c,country:u,country_area:d,phone:p})},ChangePassword:(e,t)=>{let r="".concat(s.bl,"/api/v1/users/change-password");return(0,l.Z)(r,"PUT",{old_password:e,new_password:t})},UpdateUserStatusSchool:(e,t)=>{let r="".concat(s.bl,"/api/v1/users/change-status");return(0,l.Z)(r,"PUT",{id:e,is_active:t})},ResetPassword:(e,t,r,a)=>{let n="".concat(s.bl,"/api/v1/users/forgot-password");return(0,l.Z)(n,"PUT",{email:e,token:t,new_password:r,retype_new_password:a})},SearchEmailForgotPassword:e=>{let t="".concat(s.bl,"/api/v1/users/forgot-password/search-email");return(0,l.Z)(t,"PUT",{email:e})},VerifyForgotPasswordToken:e=>{let t="".concat(s.bl,"/api/v1/users/forgot-password/verify-token");return(0,l.Z)(t,"PUT",{token:e})},UpdateUserProfile:(e,t,r,a,n)=>{let o="".concat(s.bl,"/api/v1/userprofile/profile");return(0,l.Z)(o,"PATCH",{birthday:e,phone:t,gender:r,description:a,nickname:n})},RemoveHobbyUser:e=>{let t="".concat(s.bl,"/api/v1/hobby/profile");return(0,l.Z)(t,"DELETE",{id:e})},RejectFriendRequest:e=>{let t="".concat(s.bl,"/api/v1/users/").concat(e,"/reject-friend");return(0,l.Z)(t,"DELETE")},ListCommentByIdPost:e=>{let t="".concat(s.bl,"/comments?postId=").concat(e);return(0,l.Z)(t)}}}}]);