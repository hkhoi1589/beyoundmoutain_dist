"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3397],{3397:function(e,n,s){s.r(n),s.d(n,{default:function(){return f}});var t=s(7437),l=s(2265),a=s(184),r=s(6457);function i(){return(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"flex justify-end pb-3 w-full border-b-2 border-b-neutral",children:(0,t.jsx)("div",{className:"animate-skeleton w-24 h-4"})}),(0,t.jsx)("ul",{children:Array.from({length:r.Pm},(e,n)=>n+1).map(e=>(0,t.jsx)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:(0,t.jsxs)("div",{className:"flex justify-center items-start flex-1",children:[(0,t.jsx)("div",{className:"animate-skeleton w-12 h-12 rounded-full"}),(0,t.jsxs)("div",{className:"ml-4 flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"animate-skeleton w-32 h-6 mb-1"}),(0,t.jsx)("div",{className:"animate-skeleton w-28 h-4"})]})]})},"loading-item-".concat(e)))})]})}var o=s(6816),d=s(1396),c=s.n(d),m=s(8274),u=s(8625),f=function(){var e,n;let[s,d]=(0,l.useState)(0),[f,x]=(0,l.useState)(r.MI[0]),{dataChannels:h,setDataChannels:j,loadingAdd:b,errorAdd:v}=(0,u.t_)(),{channels:N,isLoading:p,isError:g}=o.Z.SearchChannelSchool(null==f?void 0:f.field,r.Pm,r.Pm*s,"");return((0,l.useEffect)(()=>{(g||v)&&console.log("ListChannel",v||g)},[g,v]),(0,l.useEffect)(()=>{j(N)},[N]),p||!h)?(0,t.jsx)(i,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-end border-b-2 border-b-neutral",children:(0,t.jsx)(m.Z,{activeSort:f,setActiveSort:x})}),(0,t.jsxs)("ul",{className:"mb-8",children:[b&&(0,t.jsxs)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,t.jsx)("div",{className:"animate-skeleton w-12 h-12 rounded-full"}),(0,t.jsxs)("div",{className:"ml-4 flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"animate-skeleton w-32 h-5 mb-1"}),(0,t.jsx)("div",{className:"animate-skeleton w-28 h-3"})]})]}),(0,t.jsx)("div",{className:"animate-skeleton w-15 h-15 rounded-full"})]}),(null==h?void 0:null===(e=h.results)||void 0===e?void 0:e.length)>0?null==h?void 0:null===(n=h.results)||void 0===n?void 0:n.map((e,n)=>(0,t.jsx)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:(0,t.jsxs)("div",{className:"flex justify-center items-start flex-1",children:[(0,t.jsx)("i",{className:"ri-hashtag text-2xl"}),(0,t.jsxs)("div",{className:"ml-4 flex-1 line-clamp-2",children:[(0,t.jsx)(c(),{href:"/forum/channel?channelId=".concat(e.id),children:(0,t.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:e.name})}),(0,t.jsxs)("ul",{className:"flex flex-col list-disc sm:list-none sm:flex-row sm:items-center sm:space-x-2",children:[e.isJoinded&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("li",{className:"text-xs font-normal text-accent-focus",children:[(0,t.jsx)("i",{className:"ri-check-fill mr-2"}),"joined"]}),(0,t.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.mode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"text-xs font-normal",children:e.mode}),(0,t.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.owner&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"text-xs font-normal underline",children:e.owner.first_name+" "+e.owner.last_name}),(0,t.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.count&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"text-xs font-normal",children:"".concat(e.count," ").concat(e.count>1?"members":"member")}),(0,t.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.description&&(0,t.jsx)("li",{className:"text-xs font-normal",children:e.description.length>200?"".concat(e.description.substring(0,maxWord),"..."):e.description})]})]})]})},"channel-".concat(n))):(0,t.jsx)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:(0,t.jsx)("div",{className:"flex justify-center items-start flex-1",children:"No channel in this school"})})]}),(0,t.jsx)(a.Z,{page:s,total:null==h?void 0:h.count,limit:r.Pm,setPage:d})]})}},8274:function(e,n,s){var t=s(7437),l=s(6457),a=s(2265);n.Z=function(e){let{classname:n="",activeSort:s,setActiveSort:r}=e,i=(0,a.useRef)(null);return(0,t.jsxs)("details",{className:"dropdown dropdown-end ".concat(n),ref:i,children:[(0,t.jsxs)("summary",{tabIndex:"0",className:"list-none cursor-pointer my-auto whitespace-nowrap font-medium text-sm hover:text-accent-focus",children:["Sort: ",null==s?void 0:s.label,(0,t.jsx)("i",{className:"ri-arrow-drop-down-line"})]}),(0,t.jsx)("ul",{tabIndex:"0",className:"z-50 dropdown-content menu shadow-lg bg-base-100 rounded-md",children:l.MI.map((e,n)=>(0,t.jsx)("li",{children:(0,t.jsx)("button",{className:"whitespace-nowrap",onClick:()=>{r(e),i.current.removeAttribute("open")},children:e.label})},"sort-".concat(n)))})]})}},184:function(e,n,s){s.d(n,{Z:function(){return a}});var t=s(7437);let l=function(e){window.scrollTo({top:e,behavior:"smooth"})};s(2265);var a=function(e){let{page:n,total:s,limit:a,setPage:r}=e,i=e=>{l(0),r(e-1)};return(0,t.jsx)("div",{className:"join flex flex-wrap justify-center mb-8 max-w-full",children:Array.from({length:0===Math.ceil(s/a)?1:Math.ceil(s/a)},(e,n)=>n+1).map(e=>(0,t.jsx)("button",{onClick:()=>i(e),className:"join-item !rounded-full bg-neutral hover:btn-accent w-10 h-10 p-2 m-2 ".concat(e===n+1?"btn-active btn-accent":""),children:e},"page-".concat(e)))})}},8625:function(e,n,s){s.d(n,{qr:function(){return r},t_:function(){return c},ww:function(){return m},sK:function(){return o},NV:function(){return d},LM:function(){return i}});var t=s(4660),l=s(4810),a=s(5039);let r=(0,t.Ue)((0,l.tJ)((e,n)=>({dark:!1,toggleDark:()=>e({dark:!n().dark}),sidebar:!1,toggleSidebar:()=>e({sidebar:!n().sidebar}),open:!1,openRequestModal:n=>e({open:n})}),{name:"forumApp",storage:(0,l.FL)(()=>a.Z)})),i=(0,t.Ue)((0,l.tJ)((e,n)=>({access:null,refresh:null,profile:{},friendsRequests:[],setAccess:n=>e(()=>({access:n})),setRefresh:n=>e(()=>({refresh:n})),setProfile:n=>e(()=>({profile:n})),setFriendRequests:n=>e(()=>({friendsRequests:n}))}),{name:"forumUser",storage:(0,l.FL)(()=>a.Z)})),o=(0,t.Ue)((0,l.tJ)((e,n)=>({noties:[],fcmToken:"",setFCMToken:n=>e(()=>({fcmToken:n})),setNoti:n=>e(()=>({noties:n})),addNoti:n=>e(e=>{var s,t,l;return{noties:[{link:"/",img:null==n?void 0:null===(s=n.notification)||void 0===s?void 0:s.image,title:null==n?void 0:null===(t=n.notification)||void 0===t?void 0:t.title,body:null==n?void 0:null===(l=n.notification)||void 0===l?void 0:l.body,isSeen:!1},...e.noties]}})}),{name:"forumNoti",storage:(0,l.FL)(()=>a.Z),onRehydrateStorage:e=>{a.Z.getItem("forumNoti").then(n=>{let s=JSON.parse(n),{noties:t,fcmToken:l}=null==s?void 0:s.state;n?(e.setNoti(t),e.setFCMToken(l)):(e.setNoti([]),e.setFCMToken(""))}).catch(e=>{})}})),d=(0,t.Ue)((e,n)=>({dataPosts:[],dataPinPosts:[],loadingAdd:!1,errorAdd:"",loadingAddChannel:!1,errorAddChannel:"",setDataPosts:n=>e(()=>({dataPosts:n})),setDataPinPosts:n=>e(()=>({dataPinPosts:n})),setLoadingAdd:n=>e(()=>({loadingAdd:n})),setErrorAdd:n=>e(()=>({errorAdd:n})),setLoadingAddChannel:n=>e(()=>({loadingAddChannel:n})),setErrorAddChannel:n=>e(()=>({errorAddChannel:n}))})),c=(0,t.Ue)((e,n)=>({dataChannels:[],loadingAdd:!1,errorAdd:"",setDataChannels:n=>e(()=>({dataChannels:n})),setLoadingAdd:n=>e(()=>({loadingAdd:n})),setErrorAdd:n=>e(()=>({errorAdd:n}))})),m=(0,t.Ue)((e,n)=>({dataComments:[],loadingAdd:!1,errorAdd:"",setDataComments:n=>e(()=>({dataComments:n})),setLoadingAdd:n=>e(()=>({loadingAdd:n})),setErrorAdd:n=>e(()=>({errorAdd:n}))}))}}]);