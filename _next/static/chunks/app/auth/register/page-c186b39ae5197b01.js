(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8454],{2010:function(t,e,s){Promise.resolve().then(s.bind(s,2876))},2876:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return l}});var o=s(7437);s(7217);var n=s(4033),a=s(1865),i=s(9279),r=s(2265);function l(){let t=(0,n.useRouter)(),{access:e}=(0,i.LM)();(0,r.useEffect)(()=>{if(e)return t.push("/forum")},[e]);let{register:s,handleSubmit:l,formState:{errors:c},watch:d}=(0,a.cI)(),u=(0,r.useRef)({});u.current=d("password","");let p=async e=>{let s={};s&&!s.errors&&t.push("/auth/login")};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("form",{onSubmit:l(p),className:"max-w-xl bg-base-100 mx-auto mt-12 rounded-lg overflow-hidden p-12 sm:py-20 sm:px-24 space-y-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Join HIGH Schoozl community"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-lg",children:"Get more features and priviliges by joining to the most helpful community"}),(0,o.jsxs)("div",{className:"form-input",children:[(0,o.jsx)("input",{...s("email",{required:"This field is required"}),type:"text",placeholder:" "}),(0,o.jsx)("label",{for:"email",children:"Email"})]}),c.email&&(0,o.jsx)("div",{className:"text-error",children:c.email.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"form-input",children:[(0,o.jsx)("input",{...s("password",{required:"You must specify a password",minLength:{value:8,message:"Password must have at least 8 characters"}}),type:"password",placeholder:" "}),(0,o.jsx)("label",{for:"password",children:"Password"})]}),c.password&&(0,o.jsx)("div",{className:"text-error",children:c.password.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"form-input",children:[(0,o.jsx)("input",{...s("repeatPassword",{required:"This field is required",validate:t=>t===u.current||"The passwords do not match"}),type:"password",placeholder:" "}),(0,o.jsx)("label",{for:"repeat-password",children:"Repeat password"})]}),c.repeatPassword&&(0,o.jsx)("div",{className:"text-error",children:c.repeatPassword.message})]}),(0,o.jsx)("button",{className:"btn btn-primary w-full",children:"Register"})]})})}},4016:function(t,e,s){"use strict";var o=s(6457),n=s(7217),a=s(713);e.Z={ListPinPostForSchool:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=arguments.length>1?arguments[1]:void 0,s="".concat(o.bl,"/api/v1/posts-pinned?limit=").concat(t,"&offset=").concat(e),{data:i,isLoading:r}=(0,a.ZP)(s,n.Z);return{pin_posts:null==i?void 0:i.data,isLoadingPinPost:r,isErrorPinPost:(null==i?void 0:i.status)===!1&&(null==i?void 0:i.message)}},SearchPostSchool:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,i="".concat(o.bl,"/api/v1/posts/search?limit=").concat(t,"&offset=").concat(e,"&q=").concat(s),{data:r,isLoading:l}=(0,a.ZP)(i,n.Z);return{posts:r,isLoading:l,isError:(null==r?void 0:r.status)===!1&&(null==r?void 0:r.message)}},GetDetailPost:t=>{let e="".concat(o.bl,"/api/v1/posts/").concat(t),{data:s,isLoading:i}=(0,a.ZP)(e,n.Z);return{detail_post:s,isLoading:i,isError:(null==s?void 0:s.status)===!1&&(null==s?void 0:s.message)}},ListCommentPost:(t,e,s)=>{let i="".concat(o.bl,"/api/v1/posts/").concat(t,"/comments?limit=").concat(e,"&offset=").concat(s),{data:r,isLoading:l}=(0,a.ZP)(i,n.Z);return{comments_post:r,isLoading:l,isError:(null==r?void 0:r.status)===!1&&(null==r?void 0:r.message)}},CreatePostSchool:(t,e,s)=>{let a="".concat(o.bl,"/api/v1/posts");return(0,n.Z)(a,"POST",{subject:t,content:e,tags:s})},UploadImagePost:(t,e,s)=>{let a="".concat(o.bl,"/api/v1/posts/").concat(t,"/images");return(0,n.Z)(a,"POST",{image:e,caption:s})},CreateLocationPost:(t,e,s,a,i)=>{let r="".concat(o.bl,"/api/v1/post/").concat(t,"/location");return(0,n.Z)(r,"PUT",{primary_street_name:e,secondary_street_name:s,primary_location:a,secondary_location:i})},PinPostSchool:t=>{let e="".concat(o.bl,"/api/v1/posts/pinned/").concat(t);return(0,n.Z)(e,"PUT")},LikePost:t=>{let e="".concat(o.bl,"/api/v1/posts/").concat(t,"/");return(0,n.Z)(e,"PUT")},RemovePinPostSchool:t=>{let e="".concat(o.bl,"/api/v1/posts/pinned/").concat(t);return(0,n.Z)(e,"DELETE")},RemoveLikePost:t=>{let e="".concat(o.bl,"/api/v1/posts/").concat(t,"/");return(0,n.Z)(e,"DELETE")},TotalPost:()=>(0,n.Z)("".concat("https://jsonserver-i5n0.onrender.com","/stats"))}},9279:function(t,e,s){"use strict";s.d(e,{qr:function(){return i},sK:function(){return l},LM:function(){return r}});var o=s(4660),n=s(4810),a=s(5039);let i=(0,o.Ue)((0,n.tJ)((t,e)=>({dark:!1,toggleDark:()=>t({dark:!e().dark}),sidebar:!1,toggleSidebar:()=>t({sidebar:!e().sidebar}),open:!1,openRequestModal:e=>t({open:e})}),{name:"forumApp",storage:(0,n.FL)(()=>a.Z)})),r=(0,o.Ue)((0,n.tJ)((t,e)=>({access:null,refresh:null,profile:{},setAccess:e=>t(()=>({access:e})),setRefresh:e=>t(()=>({refresh:e})),setProfile:e=>t(()=>({profile:e}))}),{name:"forumUser",storage:(0,n.FL)(()=>a.Z)})),l=(0,o.Ue)((0,n.tJ)((t,e)=>({noties:[],setNoti:e=>t(()=>({noties:e})),addNoti:e=>t(t=>{var s,o,n;return{noties:[{link:"/student",img:(null==e?void 0:null===(s=e.notification)||void 0===s?void 0:s.image)||"/avatar/kimthiendung.jpg",title:null==e?void 0:null===(o=e.notification)||void 0===o?void 0:o.title,body:null==e?void 0:null===(n=e.notification)||void 0===n?void 0:n.body,isSeen:!1},...t.noties]}})}),{name:"forumNoti",storage:(0,n.FL)(()=>a.Z),onRehydrateStorage:t=>{a.Z.getItem("forumNoti").then(e=>{e?t.setNoti(JSON.parse(e)):t.setNoti(JSON.parse([]))}).catch(t=>{})}}));var c=s(4016);(0,o.Ue)((t,e)=>({loading:!1,error:"",page:1,data:[],postsCount:0,setPage:e=>t(()=>({page:e})),fetchPostListPage:async e=>{try{t({loading:!0,page:e});let s=c.Z.ListPost(e,6),o=await c.Z.TotalPost();t({loading:!1,data:s,postsCount:o.postsCount})}catch(e){t({loading:!1,error:e})}}}))},5039:function(t,e,s){"use strict";var o=s(5484);e.Z={getItem:async t=>(0,o.U2)(t).then(t=>t).catch(t=>{}),setItem:async(t,e)=>{await (0,o.t8)(t,e)},removeItem:async t=>{await (0,o.IV)(t)}}},6457:function(t,e,s){"use strict";s.d(e,{Cx:function(){return o},DN:function(){return n},bl:function(){return a}});let o="w3iggrA5WlOIoKGqvfjTJzdqdYWSsG3dCcUYpVT8",n="VDBAYgCdkAkrIxamKXptPSMrvvNKZFMLEs9Z7hhO4QUbkUR1iKntEXaIlZLiyaZ8wRnEIENbBJBF9PnthzI73LUtYqBmk2qI9yDmAGMKS3yushSzkQewdpTJy4k9O6iT",a="http://ky-de-appli-1fdbxk808lvu0-550379223.us-east-1.elb.amazonaws.com"},7217:function(t,e,s){"use strict";s.d(e,{Z:function(){return n}});var o=s(5039);async function n(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={method:e?String(e||"").toUpperCase():"GET"};"GET"!==a.method&&(s.files?a.body=s.files:a.body=JSON.stringify(s||{})),a.headers={"Content-Type":"application/json",...n},s.files&&delete a.headers["Content-Type"];let i=await o.Z.getItem("forumUser");if(i){var r;let t=JSON.parse(i),e=null==t?void 0:null===(r=t.state)||void 0===r?void 0:r.access;e&&(a.headers.Authorization="Bearer ".concat(e))}return fetch(t,a).then(t=>t.json())}}},function(t){t.O(0,[1501,713,9540,2971,596,1744],function(){return t(t.s=2010)}),_N_E=t.O()}]);