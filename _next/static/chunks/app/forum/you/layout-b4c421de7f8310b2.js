(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1084],{7992:function(e,t,o){Promise.resolve().then(o.bind(o,7664))},7664:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return g}});var n=o(7437),s=o(9683),a=o(1932),r=o(1396),i=o.n(r),l=o(2265);function c(e){let{className:t="",items:o}=e;return(0,n.jsx)("div",{className:"tabs text-sm overflow-x-auto flex-nowrap font-normal ".concat(t),children:o.map((e,t)=>(0,n.jsx)(i(),{href:e.href,className:"mr-5 px-0 border-b-2 border-b-transparent tab hover:tab-bordered whitespace-nowrap ".concat(e.active&&"tab-active font-bold"),children:e.label},"tab-".concat(t)))})}var u=o(6691),d=o.n(u),f=o(9279),m=o(7217),p=o(6457);function v(e){var t;let{className:o,url:s,name:a}=e,{profile:r,setProfile:i}=(0,f.LM)(),[c,u]=(0,l.useState)(!1),v=async e=>{if(e.preventDefault(),u(e.target.value),c&&c!==e.target.value){let e=await (0,m.Z)("".concat(p.bl,"/api/v1/userprofile/profile"),"PATCH",{description:c});e.status&&i({...r,description:c})}};return(0,n.jsxs)("div",{className:"flex-1 flex flex-col",children:[r&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"avatar placeholder",children:(0,n.jsx)("div",{className:"bg-base-300/60 rounded-full ".concat(o),children:r.url?(0,n.jsx)(d(),{src:r.url,width:0,height:0,style:{width:"100%",height:"auto"}}):(0,n.jsx)("span",{className:"text-4xl uppercase",children:null==r?void 0:null===(t=r.first_name)||void 0===t?void 0:t.charAt(0)})})}),(0,n.jsxs)("div",{className:"flex text-center sm:text-start flex-col ml-4",children:[(0,n.jsxs)("h3",{children:[r.first_name," ",r.last_name]}),(0,n.jsx)("span",{className:"text-neutral-focus",children:r.email})]})]}),(0,n.jsx)("textarea",{className:"textarea my-2 block w-full bg-transparent h-20 focus:outline-primary-focus border-2 resize-none",rows:2,placeholder:"Add description",onBlur:v})]})}var h=o(4033);function g(e){let{children:t}=e,o=(0,h.usePathname)(),r=[{label:"Your Posts",href:"/forum/you/your-posts",active:o.match(/\/forum\/you\/your-posts/)},{label:"Your Channels",href:"/forum/you/your-channels",active:o.match(/\/forum\/you\/your-channels/)},{label:"Friends List",href:"/forum/you/friends-list",active:o.match(/\/forum\/you\/friends-list/)},{label:"Profile",href:"/forum/you/profile",active:o.match(/\/forum\/you\/profile/)}];return(0,n.jsx)("main",{id:"main",className:"p-4 overflow-y-auto flex-1",children:(0,n.jsxs)("div",{className:"container mx-auto p-4",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,n.jsx)(v,{className:"w-16"}),(0,n.jsxs)("div",{className:"flex flex-col justify-start lg:flex-row lg:ml-4 mb-4 lg:mb-0",children:[(0,n.jsx)(s.default,{className:"mr-0 lg:mr-4 mb-4 lg:mb-0"}),(0,n.jsx)(a.default,{})]})]}),(0,n.jsx)(c,{items:r})]}),(0,n.jsx)("div",{className:"border-t-2 border-t-neutral",children:t})]})})}},1295:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var o in t)Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}(t,{default:function(){return c},unstable_getImgProps:function(){return l}});let n=o(1024),s=o(2301),a=o(7873),r=o(3222),i=n._(o(6515)),l=e=>{(0,a.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,o]of Object.entries(t))void 0===o&&delete t[e];return{props:t}},c=r.Image},4016:function(e,t,o){"use strict";var n=o(6457),s=o(7217),a=o(713);t.Z={ListPinPostForSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,o="".concat(n.bl,"/api/v1/posts-pinned?limit=").concat(e,"&offset=").concat(t),{data:r,isLoading:i}=(0,a.ZP)(o,s.Z);return{pin_posts:null==r?void 0:r.data,isLoadingPinPost:i,isErrorPinPost:(null==r?void 0:r.status)===!1&&(null==r?void 0:r.message)}},SearchPostSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,r="".concat(n.bl,"/api/v1/posts/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(o),{data:i,isLoading:l}=(0,a.ZP)(r,s.Z);return{posts:i,isLoading:l,isError:(null==i?void 0:i.status)===!1&&(null==i?void 0:i.message)}},GetDetailPost:e=>{let t="".concat(n.bl,"/api/v1/posts/").concat(e),{data:o,isLoading:r}=(0,a.ZP)(t,s.Z);return{detail_post:o,isLoading:r,isError:(null==o?void 0:o.status)===!1&&(null==o?void 0:o.message)}},ListCommentPost:(e,t,o)=>{let r="".concat(n.bl,"/api/v1/posts/").concat(e,"/comments?limit=").concat(t,"&offset=").concat(o),{data:i,isLoading:l}=(0,a.ZP)(r,s.Z);return{comments_post:i,isLoading:l,isError:(null==i?void 0:i.status)===!1&&(null==i?void 0:i.message)}},CreatePostSchool:(e,t,o)=>{let a="".concat(n.bl,"/api/v1/posts");return(0,s.Z)(a,"POST",{subject:e,content:t,tags:o})},UploadImagePost:(e,t,o)=>{let a="".concat(n.bl,"/api/v1/posts/").concat(e,"/images");return(0,s.Z)(a,"POST",{image:t,caption:o})},CreateLocationPost:(e,t,o,a,r)=>{let i="".concat(n.bl,"/api/v1/post/").concat(e,"/location");return(0,s.Z)(i,"PUT",{primary_street_name:t,secondary_street_name:o,primary_location:a,secondary_location:r})},PinPostSchool:e=>{let t="".concat(n.bl,"/api/v1/posts/pinned/").concat(e);return(0,s.Z)(t,"PUT")},LikePost:e=>{let t="".concat(n.bl,"/api/v1/posts/").concat(e,"/");return(0,s.Z)(t,"PUT")},RemovePinPostSchool:e=>{let t="".concat(n.bl,"/api/v1/posts/pinned/").concat(e);return(0,s.Z)(t,"DELETE")},RemoveLikePost:e=>{let t="".concat(n.bl,"/api/v1/posts/").concat(e,"/");return(0,s.Z)(t,"DELETE")},TotalPost:()=>(0,s.Z)("".concat("https://jsonserver-i5n0.onrender.com","/stats"))}},9279:function(e,t,o){"use strict";o.d(t,{qr:function(){return r},sK:function(){return l},LM:function(){return i}});var n=o(4660),s=o(4810),a=o(5039);let r=(0,n.Ue)((0,s.tJ)((e,t)=>({dark:!1,toggleDark:()=>e({dark:!t().dark}),sidebar:!1,toggleSidebar:()=>e({sidebar:!t().sidebar}),open:!1,openRequestModal:t=>e({open:t})}),{name:"forumApp",storage:(0,s.FL)(()=>a.Z)})),i=(0,n.Ue)((0,s.tJ)((e,t)=>({access:null,refresh:null,profile:{},setAccess:t=>e(()=>({access:t})),setRefresh:t=>e(()=>({refresh:t})),setProfile:t=>e(()=>({profile:t}))}),{name:"forumUser",storage:(0,s.FL)(()=>a.Z)})),l=(0,n.Ue)((0,s.tJ)((e,t)=>({noties:[],setNoti:t=>e(()=>({noties:t})),addNoti:t=>e(e=>{var o,n,s;return{noties:[{link:"/student",img:(null==t?void 0:null===(o=t.notification)||void 0===o?void 0:o.image)||"/avatar/kimthiendung.jpg",title:null==t?void 0:null===(n=t.notification)||void 0===n?void 0:n.title,body:null==t?void 0:null===(s=t.notification)||void 0===s?void 0:s.body,isSeen:!1},...e.noties]}})}),{name:"forumNoti",storage:(0,s.FL)(()=>a.Z),onRehydrateStorage:e=>{a.Z.getItem("forumNoti").then(t=>{t?e.setNoti(JSON.parse(t)):e.setNoti(JSON.parse([]))}).catch(e=>{})}}));var c=o(4016);(0,n.Ue)((e,t)=>({loading:!1,error:"",page:1,data:[],postsCount:0,setPage:t=>e(()=>({page:t})),fetchPostListPage:async t=>{try{e({loading:!0,page:t});let o=c.Z.ListPost(t,6),n=await c.Z.TotalPost();e({loading:!1,data:o,postsCount:n.postsCount})}catch(t){e({loading:!1,error:t})}}}))},5039:function(e,t,o){"use strict";var n=o(5484);t.Z={getItem:async e=>(0,n.U2)(e).then(e=>e).catch(e=>{}),setItem:async(e,t)=>{await (0,n.t8)(e,t)},removeItem:async e=>{await (0,n.IV)(e)}}},6457:function(e,t,o){"use strict";o.d(t,{Cx:function(){return n},DN:function(){return s},bl:function(){return a}});let n="w3iggrA5WlOIoKGqvfjTJzdqdYWSsG3dCcUYpVT8",s="VDBAYgCdkAkrIxamKXptPSMrvvNKZFMLEs9Z7hhO4QUbkUR1iKntEXaIlZLiyaZ8wRnEIENbBJBF9PnthzI73LUtYqBmk2qI9yDmAGMKS3yushSzkQewdpTJy4k9O6iT",a="http://ky-de-appli-1fdbxk808lvu0-550379223.us-east-1.elb.amazonaws.com"},7217:function(e,t,o){"use strict";o.d(t,{Z:function(){return s}});var n=o(5039);async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={method:t?String(t||"").toUpperCase():"GET"};"GET"!==a.method&&(o.files?a.body=o.files:a.body=JSON.stringify(o||{})),a.headers={"Content-Type":"application/json",...s},o.files&&delete a.headers["Content-Type"];let r=await n.Z.getItem("forumUser");if(r){var i;let e=JSON.parse(r),t=null==e?void 0:null===(i=e.state)||void 0===i?void 0:i.access;t&&(a.headers.Authorization="Bearer ".concat(t))}return fetch(e,a).then(e=>e.json())}},6691:function(e,t,o){e.exports=o(1295)},1396:function(e,t,o){e.exports=o(6685)},4033:function(e,t,o){e.exports=o(8165)}},function(e){e.O(0,[2172,3572,2010,6685,1501,713,3222,7384,9683,1932,2971,596,1744],function(){return e(e.s=7992)}),_N_E=e.O()}]);