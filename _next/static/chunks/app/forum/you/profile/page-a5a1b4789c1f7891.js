(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2099],{4690:function(e,t,s){Promise.resolve().then(s.bind(s,9899))},9899:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var n=s(9268),a=s(4461),i=s(6006),r=s(5577),o=s(3960);async function l(){let{profile:e,setProfile:t}=(0,a.LM)(),[s,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)({}),[m,u]=(0,i.useState)({nickname:"",birthday:"",gender:"",phone:""}),f=async n=>{if(n.preventDefault(),s){let s=await (0,r.Z)("".concat(o.bl,"/api/v1/userprofile/profile"),"PATCH",m);s.status?(t({...e,...m}),l(!1)):d(s.error)}else l(!0)};return(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("span",{className:"text-base font-normal",children:"General Information"}),(0,n.jsx)("button",{onClick:f,className:"badge whitespace-nowrap py-3 px-5 hover:bg-neutral-focus bg-[#6A6A6A] tracking-wider text-xs font-bold text-base-300",children:s?"Save":"Edit"})]}),(0,n.jsxs)("div",{className:"grid grid-rows-5 grid-flow-row sm:grid-flow-col gap-3",children:[(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"First Name"}),(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.first_name})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Last Name"}),(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.last_name})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Nick Name"}),s?(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("input",{type:"text",placeholder:"Type here",className:"input input-bordered input-sm w-full max-w-xs",value:m.nickname,onChange:e=>u({...m,nickname:e.target.value})})}):(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.nickname})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Birth Day"}),s?(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("input",{type:"text",placeholder:"Type here",className:"input input-bordered input-sm w-full max-w-xs",value:m.birthday,onChange:e=>u({...m,birthday:e.target.value})}),c.error_birthday&&(0,n.jsx)("div",{className:"text-error",children:c.error_birthday})]}):(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.birthday})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Gender"}),s?(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"radio",name:"gender",className:"radio mr-2",checked:"M"===m.gender,onChange:e=>u({...m,gender:"M"})})," ","Male"]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"radio",name:"gender",className:"radio mr-2",checked:"F"===m.gender,onChange:e=>u({...m,gender:"F"})})," ","Female"]})]}):(0,n.jsx)("div",{className:"flex-1 font-semibold",children:"M"===e.gender?"Male":"Female"})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Hobbies"}),(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.hobbies&&e.hobbies.join(",")})]})]})]})}},6137:function(e,t,s){"use strict";var n=s(3960),a=s(5577),i=s(730);t.Z={ListPost:e=>{let t="".concat(n.bl,"/posts_list?_page=").concat(e,"&_limit=6"),{data:s,error:r,isLoading:o}=(0,i.ZP)(t,a.Z);return{posts:s,isLoading:o,isError:r}},GetDetailPost:e=>{let t="".concat(n.bl,"/posts/").concat(e),{data:s,error:r,isLoading:o}=(0,i.ZP)(t,a.Z);return{post:s,isLoading:o,isError:r}},TotalPost:()=>{let e="".concat(n.bl,"/stats");return(0,a.Z)(e)}}},4461:function(e,t,s){"use strict";s.d(t,{qr:function(){return r},sK:function(){return l},LM:function(){return o}});var n=s(2561),a=s(4475),i=s(4328);let r=(0,n.Ue)((0,a.tJ)((e,t)=>({dark:!1,toggleDark:()=>e({dark:!t().dark}),sidebar:!1,toggleSidebar:()=>e({sidebar:!t().sidebar}),open:!1,openRequestModal:t=>e({open:t})}),{name:"forumApp",storage:(0,a.FL)(()=>i.Z)})),o=(0,n.Ue)((0,a.tJ)((e,t)=>({access:null,refresh:null,profile:{},setAccess:t=>e(()=>({access:t})),setRefresh:t=>e(()=>({refresh:t})),setProfile:t=>e(()=>({profile:t}))}),{name:"forumUser",storage:(0,a.FL)(()=>i.Z),onRehydrateStorage:e=>{i.Z.getItem("forumUser").then(t=>{t?e.setNoti(JSON.parse(t)):e.setNoti(JSON.parse([]))}).catch(e=>{})}})),l=(0,n.Ue)((0,a.tJ)((e,t)=>({noties:[],setNoti:t=>e(()=>({noties:t})),addNoti:t=>e(e=>{var s,n,a;return{noties:[{link:"/student",img:(null==t?void 0:null===(s=t.notification)||void 0===s?void 0:s.image)||"/avatar/kimthiendung.jpg",title:null==t?void 0:null===(n=t.notification)||void 0===n?void 0:n.title,body:null==t?void 0:null===(a=t.notification)||void 0===a?void 0:a.body,isSeen:!1},...e.noties]}})}),{name:"forumNoti",storage:(0,a.FL)(()=>i.Z),onRehydrateStorage:e=>{i.Z.getItem("forumNoti").then(t=>{t?e.setNoti(JSON.parse(t)):e.setNoti(JSON.parse([]))}).catch(e=>{})}}));var c=s(6137);(0,n.Ue)((e,t)=>({loading:!1,error:"",page:1,data:[],postsCount:0,setPage:t=>e(()=>({page:t})),fetchPostListPage:async t=>{try{e({loading:!0,page:t});let s=c.Z.ListPost(t,6),n=await c.Z.TotalPost();e({loading:!1,data:s,postsCount:n.postsCount})}catch(t){e({loading:!1,error:t})}}}))},4328:function(e,t,s){"use strict";var n=s(2486);t.Z={getItem:async e=>(0,n.U2)(e).then(e=>e).catch(e=>{}),setItem:async(e,t)=>{await (0,n.t8)(e,t)},removeItem:async e=>{await (0,n.IV)(e)}}},3960:function(e,t,s){"use strict";s.d(t,{Cx:function(){return n},DN:function(){return a},bl:function(){return i}});let n="w3iggrA5WlOIoKGqvfjTJzdqdYWSsG3dCcUYpVT8",a="VDBAYgCdkAkrIxamKXptPSMrvvNKZFMLEs9Z7hhO4QUbkUR1iKntEXaIlZLiyaZ8wRnEIENbBJBF9PnthzI73LUtYqBmk2qI9yDmAGMKS3yushSzkQewdpTJy4k9O6iT",i="http://ky-de-appli-1fdbxk808lvu0-550379223.us-east-1.elb.amazonaws.com"},5577:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(4328);async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={method:t?String(t||"").toUpperCase():"GET"};"GET"!==i.method&&(s.files?i.body=s.files:i.body=JSON.stringify(s||{})),i.headers={"Content-Type":"application/json",...a},s.files&&delete i.headers["Content-Type"];let r=await n.Z.getItem("forumUser");if(r){var o;let e=JSON.parse(r),t=null==e?void 0:null===(o=e.state)||void 0===o?void 0:o.access;t&&(i.headers.Authorization="Bearer ".concat(t))}return fetch(e,i).then(e=>e.json())}}},function(e){e.O(0,[4753,730,9253,7698,1744],function(){return e(e.s=4690)}),_N_E=e.O()}]);