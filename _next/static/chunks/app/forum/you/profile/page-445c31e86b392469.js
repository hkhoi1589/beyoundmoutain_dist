(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2099],{66:function(e,t,s){Promise.resolve().then(s.bind(s,5959))},5959:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var n=s(7437),a=s(9279),o=s(2265),i=s(7217),l=s(6457);function r(){let{profile:e,setProfile:t}=(0,a.LM)(),[s,r]=(0,o.useState)(!1),[c,d]=(0,o.useState)({}),[u,m]=(0,o.useState)({nickname:"",birthday:"",gender:"",phone:""}),f=async n=>{if(n.preventDefault(),s){let s=await (0,i.Z)("".concat(l.bl,"/api/v1/userprofile/profile"),"PATCH",u);s.status?(t({...e,...u}),r(!1)):d(s.error)}else r(!0)};return(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("span",{className:"text-base font-normal",children:"General Information"}),(0,n.jsx)("button",{onClick:f,className:"badge whitespace-nowrap py-3 px-5 hover:bg-neutral-focus bg-[#6A6A6A] tracking-wider text-xs font-bold text-base-300",children:s?"Save":"Edit"})]}),(0,n.jsxs)("div",{className:"grid grid-rows-5 grid-flow-row sm:grid-flow-col gap-3",children:[(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"First Name"}),(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.first_name})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Last Name"}),(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.last_name})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Nick Name"}),s?(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("input",{type:"text",placeholder:"Type here",className:"input input-bordered input-sm w-full max-w-xs",value:u.nickname,onChange:e=>m({...u,nickname:e.target.value})})}):(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.nickname})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Birth Day"}),s?(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("input",{type:"text",placeholder:"Type here",className:"input input-bordered input-sm w-full max-w-xs",value:u.birthday,onChange:e=>m({...u,birthday:e.target.value})}),c.error_birthday&&(0,n.jsx)("div",{className:"text-error",children:c.error_birthday})]}):(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.birthday})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Gender"}),s?(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"radio",name:"gender",className:"radio mr-2",checked:"M"===u.gender,onChange:e=>m({...u,gender:"M"})})," ","Male"]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"radio",name:"gender",className:"radio mr-2",checked:"F"===u.gender,onChange:e=>m({...u,gender:"F"})})," ","Female"]})]}):(0,n.jsx)("div",{className:"flex-1 font-semibold",children:"M"===e.gender?"Male":"Female"})]}),(0,n.jsxs)("div",{className:"flex text-xs font-normal",children:[(0,n.jsx)("div",{className:"w-1/3 text-base-content",children:"Hobbies"}),(0,n.jsx)("div",{className:"flex-1 font-semibold",children:e.hobbies&&e.hobbies.join(",")})]})]})]})}},4016:function(e,t,s){"use strict";var n=s(6457),a=s(7217),o=s(713);t.Z={ListPinPostForSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,s="".concat(n.bl,"/api/v1/posts-pinned?limit=").concat(e,"&offset=").concat(t),{data:i,isLoading:l}=(0,o.ZP)(s,a.Z);return{pin_posts:null==i?void 0:i.data,isLoadingPinPost:l,isErrorPinPost:(null==i?void 0:i.status)===!1&&(null==i?void 0:i.message)}},SearchPostSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,i="".concat(n.bl,"/api/v1/posts/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(s),{data:l,isLoading:r}=(0,o.ZP)(i,a.Z);return{posts:l,isLoading:r,isError:(null==l?void 0:l.status)===!1&&(null==l?void 0:l.message)}},GetDetailPost:e=>{let t="".concat(n.bl,"/api/v1/posts/").concat(e),{data:s,isLoading:i}=(0,o.ZP)(t,a.Z);return{detail_post:s,isLoading:i,isError:(null==s?void 0:s.status)===!1&&(null==s?void 0:s.message)}},ListCommentPost:(e,t,s)=>{let i="".concat(n.bl,"/api/v1/posts/").concat(e,"/comments?limit=").concat(t,"&offset=").concat(s),{data:l,isLoading:r}=(0,o.ZP)(i,a.Z);return{comments_post:l,isLoading:r,isError:(null==l?void 0:l.status)===!1&&(null==l?void 0:l.message)}},CreatePostSchool:(e,t,s)=>{let o="".concat(n.bl,"/api/v1/posts");return(0,a.Z)(o,"POST",{subject:e,content:t,tags:s})},UploadImagePost:(e,t,s)=>{let o="".concat(n.bl,"/api/v1/posts/").concat(e,"/images");return(0,a.Z)(o,"POST",{image:t,caption:s})},CreateLocationPost:(e,t,s,o,i)=>{let l="".concat(n.bl,"/api/v1/post/").concat(e,"/location");return(0,a.Z)(l,"PUT",{primary_street_name:t,secondary_street_name:s,primary_location:o,secondary_location:i})},PinPostSchool:e=>{let t="".concat(n.bl,"/api/v1/posts/pinned/").concat(e);return(0,a.Z)(t,"PUT")},LikePost:e=>{let t="".concat(n.bl,"/api/v1/posts/").concat(e,"/");return(0,a.Z)(t,"PUT")},RemovePinPostSchool:e=>{let t="".concat(n.bl,"/api/v1/posts/pinned/").concat(e);return(0,a.Z)(t,"DELETE")},RemoveLikePost:e=>{let t="".concat(n.bl,"/api/v1/posts/").concat(e,"/");return(0,a.Z)(t,"DELETE")},TotalPost:()=>(0,a.Z)("".concat("https://jsonserver-i5n0.onrender.com","/stats"))}},9279:function(e,t,s){"use strict";s.d(t,{qr:function(){return i},sK:function(){return r},LM:function(){return l}});var n=s(4660),a=s(4810),o=s(5039);let i=(0,n.Ue)((0,a.tJ)((e,t)=>({dark:!1,toggleDark:()=>e({dark:!t().dark}),sidebar:!1,toggleSidebar:()=>e({sidebar:!t().sidebar}),open:!1,openRequestModal:t=>e({open:t})}),{name:"forumApp",storage:(0,a.FL)(()=>o.Z)})),l=(0,n.Ue)((0,a.tJ)((e,t)=>({access:null,refresh:null,profile:{},setAccess:t=>e(()=>({access:t})),setRefresh:t=>e(()=>({refresh:t})),setProfile:t=>e(()=>({profile:t}))}),{name:"forumUser",storage:(0,a.FL)(()=>o.Z)})),r=(0,n.Ue)((0,a.tJ)((e,t)=>({noties:[],setNoti:t=>e(()=>({noties:t})),addNoti:t=>e(e=>{var s,n,a;return{noties:[{link:"/student",img:(null==t?void 0:null===(s=t.notification)||void 0===s?void 0:s.image)||"/avatar/kimthiendung.jpg",title:null==t?void 0:null===(n=t.notification)||void 0===n?void 0:n.title,body:null==t?void 0:null===(a=t.notification)||void 0===a?void 0:a.body,isSeen:!1},...e.noties]}})}),{name:"forumNoti",storage:(0,a.FL)(()=>o.Z),onRehydrateStorage:e=>{o.Z.getItem("forumNoti").then(t=>{t?e.setNoti(JSON.parse(t)):e.setNoti(JSON.parse([]))}).catch(e=>{})}}));var c=s(4016);(0,n.Ue)((e,t)=>({loading:!1,error:"",page:1,data:[],postsCount:0,setPage:t=>e(()=>({page:t})),fetchPostListPage:async t=>{try{e({loading:!0,page:t});let s=c.Z.ListPost(t,6),n=await c.Z.TotalPost();e({loading:!1,data:s,postsCount:n.postsCount})}catch(t){e({loading:!1,error:t})}}}))},5039:function(e,t,s){"use strict";var n=s(5484);t.Z={getItem:async e=>(0,n.U2)(e).then(e=>e).catch(e=>{}),setItem:async(e,t)=>{await (0,n.t8)(e,t)},removeItem:async e=>{await (0,n.IV)(e)}}},6457:function(e,t,s){"use strict";s.d(t,{Cx:function(){return n},DN:function(){return a},bl:function(){return o}});let n="w3iggrA5WlOIoKGqvfjTJzdqdYWSsG3dCcUYpVT8",a="VDBAYgCdkAkrIxamKXptPSMrvvNKZFMLEs9Z7hhO4QUbkUR1iKntEXaIlZLiyaZ8wRnEIENbBJBF9PnthzI73LUtYqBmk2qI9yDmAGMKS3yushSzkQewdpTJy4k9O6iT",o="http://ky-de-appli-1fdbxk808lvu0-550379223.us-east-1.elb.amazonaws.com"},7217:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(5039);async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={method:t?String(t||"").toUpperCase():"GET"};"GET"!==o.method&&(s.files?o.body=s.files:o.body=JSON.stringify(s||{})),o.headers={"Content-Type":"application/json",...a},s.files&&delete o.headers["Content-Type"];let i=await n.Z.getItem("forumUser");if(i){var l;let e=JSON.parse(i),t=null==e?void 0:null===(l=e.state)||void 0===l?void 0:l.access;t&&(o.headers.Authorization="Bearer ".concat(t))}return fetch(e,o).then(e=>e.json())}}},function(e){e.O(0,[1501,713,2971,596,1744],function(){return e(e.s=66)}),_N_E=e.O()}]);