(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9592],{2601:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(8960)},1025:function(e,t,n){Promise.resolve().then(n.bind(n,9367))},9367:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),o=n(8625),a=n(9716);function i(){let{profile:e}=(0,o.LM)(),t="/api/v1/users/".concat(e.user_id,"/posts");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Z,{src:t,loader:!0,limit:10,fill:!0})})}},9599:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7437);n(2265);var o=n(9072),a=n.n(o);function i(e){let{amount:t}=e;return(0,r.jsx)("button",{className:"flex-shrink-0 ".concat(a().heart," bg-left"),children:(0,r.jsx)("span",{className:"flex justify-end text-base font-normal",children:t})})}n(4016)},5493:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),o=n(6691),a=n.n(o);function i(e){let{className:t,url:n,name:o}=e;return(0,r.jsx)("div",{className:"avatar placeholder",children:(0,r.jsx)("div",{className:"bg-base-300/60 rounded-full ".concat(t),children:n?(0,r.jsx)(a(),{src:n,alt:"avatar.jpg",width:0,height:0,style:{width:"100%",height:"auto"}}):(0,r.jsx)("span",{className:"text-2xl uppercase",children:o})})})}},9716:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7437),o=n(2265),a=n(9599),i=n(1396),s=n.n(i),l=n(5493);function c(e){let{uuid:t,subject:n,author:i,last_comment:c,thumps_up:u,fill:d}=e,[f]=(0,o.useState)(i||{});return(0,r.jsxs)("li",{className:"flex items-center justify-between p-2 sm:p-4",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,r.jsx)(l.default,{url:f.avatar,name:n?null==n?void 0:n.charAt(0):"Me",className:"w-12"}),(0,r.jsxs)("div",{className:"ml-2 sm:ml-4 flex-1 line-clamp-2",children:[(0,r.jsx)(s(),{href:"/forum/detail?id=".concat(t),children:(0,r.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:n})}),(0,r.jsxs)("ul",{className:"flex flex-col list-disc sm:list-none sm:flex-row sm:items-center sm:space-x-2",children:[f.full_name&&(0,r.jsx)("li",{className:"text-sm font-normal underline",children:f.full_name}),c&&(0,r.jsx)("li",{className:"font-bold hidden sm:inline",children:"â€¢"}),(0,r.jsx)("li",{className:"text-sm font-normal hidden sm:inline",children:(0,r.jsx)("span",{className:"underline",children:c})})]})]})]}),d&&(0,r.jsx)("div",{className:"flex flex-col items-end",children:(0,r.jsx)(a.Z,{amount:null==u?void 0:u.length})})]})}var u=n(9450);function d(e){let{className:t="",src:n="/api/v1/posts/search",loader:a=!1,limit:i=10,q:s="",fill:l}=e;if(!a)return;let{data:d,error:f,size:m,setSize:h,hitEnd:v}=(0,u.Q)(n,{limit:i,q:s});return f?"An error has occurred.":(0,r.jsxs)("div",{children:[d&&d.map((e,n)=>(0,r.jsx)("ul",{className:"divide-y-2 divide-neutral ".concat(t),children:e.data&&e.data.results&&e.data.results.map((e,t)=>(0,o.createElement)(c,{...e,key:t,fill:l}))},n)),d&&d.length>0?!v&&i<d.length&&(0,r.jsx)("div",{className:"text-center my-4",children:(0,r.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>h(m+1),children:"Load more"})}):(0,r.jsx)("div",{className:"text-center my-4 text-lg",children:"No data"})]})}},4016:function(e,t,n){"use strict";var r=n(6457),o=n(7217),a=n(713),i=n(2601);t.Z={ListPinPostForSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n="".concat(r.bl,"/api/v1/posts-pinned?limit=").concat(e,"&offset=").concat(t),{data:i,isLoading:s}=(0,a.ZP)(n,o.Z);return{pinPosts:null==i?void 0:i.data,isLoading:s,isError:(null==i?void 0:i.status)===!1?null==i?void 0:i.message:""}},SearchPostSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="".concat(r.bl,"/api/v1/posts/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(n),{data:s,isLoading:l}=(0,a.ZP)(i,o.Z);return{posts:null==s?void 0:s.data,isLoading:l,isError:(null==s?void 0:s.status)===!1?null==s?void 0:s.message:""}},GetDetailPost:e=>{let t="".concat(r.bl,"/api/v1/posts/").concat(e),{data:n,isLoading:i,mutate:s}=(0,a.ZP)(t,o.Z);return{post:null==n?void 0:n.data,isLoading:i,isError:(null==n?void 0:n.status)===!1?null==n?void 0:n.message:"",mutate:s}},ListCommentPost:(e,t,n)=>{let i="".concat(r.bl,"/api/v1/posts/").concat(e,"/comments?limit=").concat(t,"&offset=").concat(n),{data:s,isLoading:l}=(0,a.ZP)(i,o.Z);return{comments_post:null==s?void 0:s.data,isLoading:l,isError:(null==s?void 0:s.status)===!1?Object.values(null==s?void 0:s.error)[0]:""}},CreatePostSchool:(e,t,n)=>{let a="".concat(r.bl,"/api/v1/posts");return(0,o.Z)(a,"POST",{subject:e,content:t,tags:n})},UploadImagePost:(e,t,n)=>{let a="".concat(r.bl,"/api/v1/posts/").concat(e,"/image"),i=new FormData;return i.append("image",t),i.append("caption",n),(0,o.Z)(a,"POST",{files:i},{"Content-Type":"multipart/form-data"})},CreateLocationPost:(e,t,n,a,i)=>{let s="".concat(r.bl,"/api/v1/post/").concat(e,"/location");return(0,o.Z)(s,"PUT",{primary_street_name:t,secondary_street_name:n,primary_location:a,secondary_location:i})},PinPostSchool:e=>{let t="".concat(r.bl,"/api/v1/posts/pinned/").concat(e);return(0,o.Z)(t,"PUT")},LikePost:e=>{let t="".concat(r.bl,"/api/v1/posts/").concat(e,"/");return(0,o.Z)(t,"PUT")},RemovePinPostSchool:e=>{let t="".concat(r.bl,"/api/v1/posts/pinned/").concat(e);return(0,o.Z)(t,"DELETE")},RemoveLikePost:e=>{let t="".concat(r.bl,"/api/v1/posts/").concat(e,"/");return(0,o.Z)(t,"DELETE")},TotalPost:()=>{let e="".concat(i.env.NEXT_PUBLIC_BASIC_API_ENDPOINT,"/stats");return(0,o.Z)(e)}}},8625:function(e,t,n){"use strict";n.d(t,{qr:function(){return i},t_:function(){return u},ww:function(){return d},sK:function(){return l},NV:function(){return c},LM:function(){return s}});var r=n(4660),o=n(4810),a=n(5039);let i=(0,r.Ue)((0,o.tJ)((e,t)=>({dark:!1,toggleDark:()=>e({dark:!t().dark}),sidebar:!1,toggleSidebar:()=>e({sidebar:!t().sidebar}),open:!1,openRequestModal:t=>e({open:t})}),{name:"forumApp",storage:(0,o.FL)(()=>a.Z)})),s=(0,r.Ue)((0,o.tJ)((e,t)=>({access:null,refresh:null,profile:{},friendsRequests:[],setAccess:t=>e(()=>({access:t})),setRefresh:t=>e(()=>({refresh:t})),setProfile:t=>e(()=>({profile:t})),setFriendRequests:t=>e(()=>({friendsRequests:t}))}),{name:"forumUser",storage:(0,o.FL)(()=>a.Z)})),l=(0,r.Ue)((0,o.tJ)((e,t)=>({noties:[],fcmToken:"",setFCMToken:t=>e(()=>({fcmToken:t})),setNoti:t=>e(()=>({noties:t})),addNoti:t=>e(e=>{var n,r,o;return{noties:[{link:"/",img:null==t?void 0:null===(n=t.notification)||void 0===n?void 0:n.image,title:null==t?void 0:null===(r=t.notification)||void 0===r?void 0:r.title,body:null==t?void 0:null===(o=t.notification)||void 0===o?void 0:o.body,isSeen:!1},...e.noties]}})}),{name:"forumNoti",storage:(0,o.FL)(()=>a.Z),onRehydrateStorage:e=>{a.Z.getItem("forumNoti").then(t=>{let n=JSON.parse(t),{noties:r,fcmToken:o}=null==n?void 0:n.state;t?(e.setNoti(r),e.setFCMToken(o)):(e.setNoti([]),e.setFCMToken(""))}).catch(e=>{})}})),c=(0,r.Ue)((e,t)=>({dataPosts:[],dataPinPosts:[],loadingAdd:!1,errorAdd:"",loadingAddChannel:!1,errorAddChannel:"",setDataPosts:t=>e(()=>({dataPosts:t})),setDataPinPosts:t=>e(()=>({dataPinPosts:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t})),setLoadingAddChannel:t=>e(()=>({loadingAddChannel:t})),setErrorAddChannel:t=>e(()=>({errorAddChannel:t}))})),u=(0,r.Ue)((e,t)=>({dataChannels:[],loadingAdd:!1,errorAdd:"",setDataChannels:t=>e(()=>({dataChannels:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t}))})),d=(0,r.Ue)((e,t)=>({dataComments:[],loadingAdd:!1,errorAdd:"",setDataComments:t=>e(()=>({dataComments:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t}))}))},5039:function(e,t,n){"use strict";var r=n(5484);t.Z={getItem:async e=>(0,r.U2)(e).then(e=>e).catch(e=>{}),setItem:async(e,t)=>{await (0,r.t8)(e,t)},removeItem:async e=>{await (0,r.IV)(e)}}},6457:function(e,t,n){"use strict";n.d(t,{Cx:function(){return r},DN:function(){return o},MI:function(){return u},Pm:function(){return i},bl:function(){return a},dr:function(){return l},hp:function(){return s},nj:function(){return c}});let r="AfBMQbX0e68dTTyZbmn8oC9UL5zPdZAaf4XwU1mR",o="G0sBIyaqex7g67FSDIFyJqeBdxyo8Msg4fUxnqeAAX22xwH6KMeVLQwJRox34HJvMxdV1PPyxMBdnFBPk7DD3IByCJtL6MhOojcCJSDWGIC5OqFm0AlhcsA7fTIeDqsP",a="https://api-dev.koolyard.com",i=10,s=5,l=5,c=5,u=[{label:"Newest channel",field:"created"},{label:"Oldest channel",field:"-created"},{label:"Most members",field:"members"},{label:"Fewest members",field:"-members"},{label:"A to Z",field:"name"},{label:"Z to A",field:"-name"}]},7217:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5039);async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={method:t?String(t||"").toUpperCase():"GET"};"GET"!==a.method&&(n.files?a.body=n.files:a.body=JSON.stringify(n||{})),a.headers={"Content-Type":"application/json",...o},n.files&&delete a.headers["Content-Type"];let i=await r.Z.getItem("forumUser");if(i){var s;let e=JSON.parse(i),t=null==e?void 0:null===(s=e.state)||void 0===s?void 0:s.access;t&&(a.headers.Authorization="Bearer ".concat(t))}return fetch(e,a).then(e=>(403===e.status?window&&(window.location.href="/error/403/"):404===e.status?window&&(window.location.href="/error/404/"):401===e.status&&r.Z.removeItem("forumUser"),e.json()))}},9450:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(7405),o=n(7217),a=n(6457);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:10},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="".concat(new URLSearchParams(t)),s=(0,r.ZP)((n,r)=>r&&!r.data?null:"".concat(a.bl+e,"?offset=").concat(n*t.limit,"&").concat(i),o.Z,{revalidateIfStale:!0,revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1,errorRetryCount:3,...n}),l=!1,{data:c}=s;if(c){var u;l=(null===(u=c[c.length-1].data)||void 0===u?void 0:u.results.length)===0}return{...s,hitEnd:l}}},9072:function(e){e.exports={heart:"Heart_heart__XQp9J",liked:"Heart_liked__3nizD",is_animating:"Heart_is_animating__wMhvd","heart-burst":"Heart_heart-burst__GquLA"}},8960:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var l=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}},i=!0;try{t[e](a,a.exports,r),i=!1}finally{i&&delete n[e]}return a.exports}r.ab="//";var o=r(229);e.exports=o}()},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},7437:function(e,t,n){"use strict";e.exports=n(622)},1396:function(e,t,n){e.exports=n(6685)},7405:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var r=n(2265),o=n(713),a=n(4796),i=n(6272);let s=e=>(0,a.qC)(e?e(0,null):null)[0],l=Promise.resolve(),c=(0,a.xD)(o.ZP,e=>(t,n,o)=>{let c;let u=(0,r.useRef)(!1),{cache:d,initialSize:f=1,revalidateAll:m=!1,persistSize:h=!1,revalidateFirstPage:v=!0,revalidateOnMount:p=!1,parallel:g=!1}=o;try{(c=s(t))&&(c="$inf$"+c)}catch(e){}let[b,x,y]=(0,a.JN)(d,c),_=(0,r.useCallback)(()=>{let e=(0,a.o8)(b()._l)?f:b()._l;return e},[d,c,f]);(0,i.useSyncExternalStore)((0,r.useCallback)(e=>c?y(c,()=>{e()}):()=>{},[d,c]),_,_);let P=(0,r.useCallback)(()=>{let e=b()._l;return(0,a.o8)(e)?f:e},[c,f]),N=(0,r.useRef)(P());(0,a.LI)(()=>{if(!u.current){u.current=!0;return}c&&x({_l:h?N.current:P()})},[c,d]);let T=p&&!u.current,w=e(c,async e=>{let r=b()._i,i=[],s=P(),[l]=(0,a.JN)(d,e),c=l().data,u=[],f=null;for(let e=0;e<s;++e){let[s,l]=(0,a.qC)(t(e,g?null:f));if(!s)break;let[h,p]=(0,a.JN)(d,s),b=h().data,x=m||r||(0,a.o8)(b)||v&&!e&&!(0,a.o8)(c)||T||c&&!(0,a.o8)(c[e])&&!o.compare(c[e],b);if(n&&x){let t=async()=>{p({data:b=await n(l),_k:l}),i[e]=b};g?u.push(t):await t()}else i[e]=b;g||(f=b)}return g&&await Promise.all(u.map(e=>e())),x({_i:a.i_}),i},o),A=(0,r.useCallback)(function(e,t){let n="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==n.revalidate;return c?(r&&((0,a.o8)(e)?x({_i:!0}):x({_i:!1})),arguments.length?w.mutate(e,{...n,revalidate:r}):w.mutate()):l},[c,d]),C=(0,r.useCallback)(e=>{let n;if(!c)return l;let[,r]=(0,a.JN)(d,c);if((0,a.mf)(e)?n=e(P()):"number"==typeof e&&(n=e),"number"!=typeof n)return l;r({_l:n}),N.current=n;let o=[],[i]=(0,a.JN)(d,c),s=null;for(let e=0;e<n;++e){let[n]=(0,a.qC)(t(e,s)),[r]=(0,a.JN)(d,n),l=n?r().data:a.i_;if((0,a.o8)(l))return A(i().data);o.push(l),s=l}return A(o)},[c,d,A,P]);return{size:P(),setSize:C,mutate:A,get data(){return w.data},get error(){return w.error},get isValidating(){return w.isValidating},get isLoading(){return w.isLoading}}})}},function(e){e.O(0,[6685,5166,6012,6691,2971,596,1744],function(){return e(e.s=1025)}),_N_E=e.O()}]);