(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9204],{4356:function(e,t,r){Promise.resolve().then(r.bind(r,6742))},6742:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(7437),l=r(8625),a=r(209),o=r(6301),s=r(2265),i=r(8864),u=r.n(i);let d=u()(()=>r.e(7332).then(r.bind(r,7332)),{loadableGenerated:{webpack:()=>[7332]},ssr:!1});function c(){let{profile:e,friendsRequests:t,setFriendRequests:r}=(0,l.LM)(),i="/api/v1/users/".concat(e.user_id,"/friends"),{requests:u,isLoading:c,isError:f,mutate:m}=o.Z.GetFriendsRequest(null==e?void 0:e.user_id);return(0,s.useEffect)(()=>{f&&console.log("ListFriendsRequest",f)},[f]),(0,s.useEffect)(()=>{r(null==u?void 0:u.results)},[u]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("ul",{children:t&&(null==t?void 0:t.map((e,t)=>{var r,l,a;return(0,n.jsx)(d,{uuid:null==e?void 0:null===(r=e.from_user)||void 0===r?void 0:r.uuid,full_name:null==e?void 0:null===(l=e.from_user)||void 0===l?void 0:l.full_name,avatar:null==e?void 0:null===(a=e.from_user)||void 0===a?void 0:a.avatar,mutate:m},"friend-".concat(t))}))}),(0,n.jsx)(a.Z,{src:i,loader:!0,limit:10})]})}},5493:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),l=r(6691),a=r.n(l);function o(e){let{className:t,url:r,name:l}=e;return(0,n.jsx)("div",{className:"avatar placeholder",children:(0,n.jsx)("div",{className:"bg-base-300/60 rounded-full ".concat(t),children:r?(0,n.jsx)(a(),{src:r,alt:"avatar.jpg",width:0,height:0,style:{width:"100%",height:"auto"}}):(0,n.jsx)("span",{className:"text-2xl uppercase",children:l})})})}},209:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(7437),l=r(2265),a=r(1396),o=r.n(a),s=r(5493);function i(e){let{uuid:t,email:r,full_name:l,avatar:a}=e;return(0,n.jsx)("li",{className:"flex items-center justify-between p-2 sm:p-4",children:(0,n.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,n.jsx)(s.default,{url:a,name:l?l.charAt(0):"",className:"w-12"}),(0,n.jsx)("div",{className:"ml-2 sm:ml-4 flex-1 line-clamp-2",children:(0,n.jsxs)(o(),{href:"/user/".concat(t),children:[(0,n.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:l}),(0,n.jsx)("p",{className:"text-sm hover:text-accent-focus",children:r})]})})]})})}var u=r(9450);function d(e){let{className:t="",src:r="/api/v1/users/search",loader:a=!1,limit:o=10,q:s=""}=e;if(!a)return;let{data:d,error:c,size:f,setSize:m,hitEnd:v}=(0,u.Q)(r,{limit:o,q:s});return c?"An error has occurred.":(0,n.jsxs)("div",{children:[d&&d.map((e,r)=>(0,n.jsx)("ul",{className:"divide-y-2 divide-neutral ".concat(t),children:e.data&&e.data.results&&e.data.results.map((e,t)=>(0,l.createElement)(i,{...e,key:t,fill:!0}))},r)),d&&d.length>0?!v&&o<d.length&&(0,n.jsx)("div",{className:"text-center my-4",children:(0,n.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>m(f+1),children:"Load more"})}):(0,n.jsx)("div",{className:"text-center my-4 text-lg",children:"No data"})]})}},8864:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(1024);r(2265);let l=n._(r(533));function a(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){let r=l.default,n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e),Object.assign(n,t);let o=n.loader;return r({...n,loader:()=>null!=o?o().then(a):Promise.resolve(a(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3699:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{suspense:function(){return l},NoSSR:function(){return a}}),r(1024),r(2265);let n=r(7669);function l(){let e=Error(n.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=n.NEXT_DYNAMIC_NO_SSR_CODE,e}function a(e){let{children:t}=e;return t}},533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(1024),l=n._(r(2265)),a=r(3699),o=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function r(e){let r=t.loading,n=l.default.createElement(r,{isLoading:!0,pastDelay:!0,error:null}),o=t.ssr?l.default.Fragment:a.NoSSR,s=t.lazy;return l.default.createElement(l.default.Suspense,{fallback:n},l.default.createElement(o,null,l.default.createElement(s,e)))}return t.lazy=l.default.lazy(t.loader),r.displayName="LoadableComponent",r}},6301:function(e,t,r){"use strict";var n=r(6457),l=r(7217),a=r(713);t.Z={GetFriends:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i="".concat(n.bl,"/api/v1/users/").concat(e,"/friends?ordering=").concat(t,"&limit=").concat(r,"&offset=").concat(o,"&q=").concat(s),{data:u,isLoading:d}=(0,a.ZP)(i,l.Z);return{friends:null==u?void 0:u.data,isLoading:d,isError:(null==u?void 0:u.status)===!1?null==u?void 0:u.message:""}},GetFriendsRequest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="".concat(n.bl,"/api/v1/users/").concat(e,"/friend-request?limit=").concat(t,"&offset=").concat(r),{data:s,isLoading:i,mutate:u}=(0,a.ZP)(o,l.Z);return{requests:null==s?void 0:s.data,isLoading:i,isError:(null==s?void 0:s.status)===!1?null==s?void 0:s.message:"",mutate:u}},GetProfile:()=>{let e="".concat(n.bl,"/api/v1/userprofile/me"),{data:t,isLoading:r}=(0,a.ZP)(e,l.Z);return{profile:t,isLoading:r,isError:(null==t?void 0:t.status)===!1?null==t?void 0:t.message:""}},GetUserProfile:e=>{let t="".concat(n.bl,"/api/v1/userprofile/").concat(e,"/profile"),{data:r,isLoading:o,error:s}=(0,a.ZP)(t,l.Z);return{user_profile:r,isLoading:o,isError:s}},SearchAllUser:(e,t,r)=>{let o="".concat(n.bl,"/api/v1/users/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(r),{data:s,isLoading:i}=(0,a.ZP)(o,l.Z);return{users:s,isLoading:i,isError:(null==s?void 0:s.status)===!1?null==s?void 0:s.message:""}},AddHobbyUserProfile:(e,t)=>{let r="".concat(n.bl,"/api/v1/hobby/profile");return(0,l.Z)(r,"POST",{type_id:e,description:t})},SendFriendRequest:(e,t)=>{let r="".concat(n.bl,"/api/v1/users/").concat(e,"/friend-request");return(0,l.Z)(r,"POST",{message:t})},AcceptFriendRequest:e=>{let t="".concat(n.bl,"/api/v1/users/").concat(e,"/accept-friend");return(0,l.Z)(t,"POST")},UpdateHobbyUserProfile:(e,t,r)=>{let a="".concat(n.bl,"/api/v1/hobby/profile");return(0,l.Z)(a,"PUT",{id:e,type_id:t,description:r})},UpdateLocationUserProfile:(e,t,r,a,o,s,i,u,d,c,f)=>{let m="".concat(n.bl,"/api/v1/location/profile");return(0,l.Z)(m,"PUT",{primary_street_name:e,secondary_street_name:t,primary_location:r,secondary_location:a,city:o,city_area:s,state:i,postal_code:u,country:d,country_area:c,phone:f})},ChangePassword:(e,t)=>{let r="".concat(n.bl,"/api/v1/users/change-password");return(0,l.Z)(r,"PUT",{old_password:e,new_password:t})},UpdateUserStatusSchool:(e,t)=>{let r="".concat(n.bl,"/api/v1/users/change-status");return(0,l.Z)(r,"PUT",{id:e,is_active:t})},ResetPassword:(e,t,r,a)=>{let o="".concat(n.bl,"/api/v1/users/forgot-password");return(0,l.Z)(o,"PUT",{email:e,token:t,new_password:r,retype_new_password:a})},SearchEmailForgotPassword:e=>{let t="".concat(n.bl,"/api/v1/users/forgot-password/search-email");return(0,l.Z)(t,"PUT",{email:e})},VerifyForgotPasswordToken:e=>{let t="".concat(n.bl,"/api/v1/users/forgot-password/verify-token");return(0,l.Z)(t,"PUT",{token:e})},UpdateUserProfile:(e,t,r,a,o)=>{let s="".concat(n.bl,"/api/v1/userprofile/profile");return(0,l.Z)(s,"PATCH",{birthday:e,phone:t,gender:r,description:a,nickname:o})},RemoveHobbyUser:e=>{let t="".concat(n.bl,"/api/v1/hobby/profile");return(0,l.Z)(t,"DELETE",{id:e})},RejectFriendRequest:e=>{let t="".concat(n.bl,"/api/v1/users/").concat(e,"/reject-friend");return(0,l.Z)(t,"DELETE")},ListCommentByIdPost:e=>{let t="".concat(n.bl,"/comments?postId=").concat(e);return(0,l.Z)(t)}}},8625:function(e,t,r){"use strict";r.d(t,{qr:function(){return o},t_:function(){return d},ww:function(){return c},sK:function(){return i},NV:function(){return u},LM:function(){return s}});var n=r(4660),l=r(4810),a=r(5039);let o=(0,n.Ue)((0,l.tJ)((e,t)=>({dark:!1,toggleDark:()=>e({dark:!t().dark}),sidebar:!1,toggleSidebar:()=>e({sidebar:!t().sidebar}),open:!1,openRequestModal:t=>e({open:t})}),{name:"forumApp",storage:(0,l.FL)(()=>a.Z)})),s=(0,n.Ue)((0,l.tJ)((e,t)=>({access:null,refresh:null,profile:{},friendsRequests:[],setAccess:t=>e(()=>({access:t})),setRefresh:t=>e(()=>({refresh:t})),setProfile:t=>e(()=>({profile:t})),setFriendRequests:t=>e(()=>({friendsRequests:t}))}),{name:"forumUser",storage:(0,l.FL)(()=>a.Z)})),i=(0,n.Ue)((0,l.tJ)((e,t)=>({noties:[],fcmToken:"",setFCMToken:t=>e(()=>({fcmToken:t})),setNoti:t=>e(()=>({noties:t})),addNoti:t=>e(e=>{var r,n,l;return{noties:[{link:"/",img:null==t?void 0:null===(r=t.notification)||void 0===r?void 0:r.image,title:null==t?void 0:null===(n=t.notification)||void 0===n?void 0:n.title,body:null==t?void 0:null===(l=t.notification)||void 0===l?void 0:l.body,isSeen:!1},...e.noties]}})}),{name:"forumNoti",storage:(0,l.FL)(()=>a.Z),onRehydrateStorage:e=>{a.Z.getItem("forumNoti").then(t=>{let r=JSON.parse(t),{noties:n,fcmToken:l}=null==r?void 0:r.state;t?(e.setNoti(n),e.setFCMToken(l)):(e.setNoti([]),e.setFCMToken(""))}).catch(e=>{})}})),u=(0,n.Ue)((e,t)=>({dataPosts:[],dataPinPosts:[],loadingAdd:!1,errorAdd:"",loadingAddChannel:!1,errorAddChannel:"",setDataPosts:t=>e(()=>({dataPosts:t})),setDataPinPosts:t=>e(()=>({dataPinPosts:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t})),setLoadingAddChannel:t=>e(()=>({loadingAddChannel:t})),setErrorAddChannel:t=>e(()=>({errorAddChannel:t}))})),d=(0,n.Ue)((e,t)=>({dataChannels:[],loadingAdd:!1,errorAdd:"",setDataChannels:t=>e(()=>({dataChannels:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t}))})),c=(0,n.Ue)((e,t)=>({dataComments:[],loadingAdd:!1,errorAdd:"",setDataComments:t=>e(()=>({dataComments:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t}))}))},5039:function(e,t,r){"use strict";var n=r(5484);t.Z={getItem:async e=>(0,n.U2)(e).then(e=>e).catch(e=>{}),setItem:async(e,t)=>{await (0,n.t8)(e,t)},removeItem:async e=>{await (0,n.IV)(e)}}},6457:function(e,t,r){"use strict";r.d(t,{Cx:function(){return n},DN:function(){return l},MI:function(){return d},Pm:function(){return o},bl:function(){return a},dr:function(){return i},hp:function(){return s},nj:function(){return u}});let n="AfBMQbX0e68dTTyZbmn8oC9UL5zPdZAaf4XwU1mR",l="G0sBIyaqex7g67FSDIFyJqeBdxyo8Msg4fUxnqeAAX22xwH6KMeVLQwJRox34HJvMxdV1PPyxMBdnFBPk7DD3IByCJtL6MhOojcCJSDWGIC5OqFm0AlhcsA7fTIeDqsP",a="https://api-dev.koolyard.com",o=10,s=5,i=5,u=5,d=[{label:"Newest channel",field:"created"},{label:"Oldest channel",field:"-created"},{label:"Most members",field:"members"},{label:"Fewest members",field:"-members"},{label:"A to Z",field:"name"},{label:"Z to A",field:"-name"}]},7217:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5039);async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={method:t?String(t||"").toUpperCase():"GET"};"GET"!==a.method&&(r.files?a.body=r.files:a.body=JSON.stringify(r||{})),a.headers={"Content-Type":"application/json",...l},r.files&&delete a.headers["Content-Type"];let o=await n.Z.getItem("forumUser");if(o){var s;let e=JSON.parse(o),t=null==e?void 0:null===(s=e.state)||void 0===s?void 0:s.access;t&&(a.headers.Authorization="Bearer ".concat(t))}return fetch(e,a).then(e=>(403===e.status?window&&(window.location.href="/error/403/"):404===e.status?window&&(window.location.href="/error/404/"):401===e.status&&n.Z.removeItem("forumUser"),e.json()))}},9450:function(e,t,r){"use strict";r.d(t,{Q:function(){return o}});var n=r(7405),l=r(7217),a=r(6457);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:10},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="".concat(new URLSearchParams(t)),s=(0,n.ZP)((r,n)=>n&&!n.data?null:"".concat(a.bl+e,"?offset=").concat(r*t.limit,"&").concat(o),l.Z,{revalidateIfStale:!0,revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1,errorRetryCount:3,...r}),i=!1,{data:u}=s;if(u){var d;i=(null===(d=u[u.length-1].data)||void 0===d?void 0:d.results.length)===0}return{...s,hitEnd:i}}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),l=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,a={},u=null,d=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!i.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:l,type:e,key:u,ref:d,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(6685)},7405:function(e,t,r){"use strict";r.d(t,{ZP:function(){return u}});var n=r(2265),l=r(713),a=r(4796),o=r(6272);let s=e=>(0,a.qC)(e?e(0,null):null)[0],i=Promise.resolve(),u=(0,a.xD)(l.ZP,e=>(t,r,l)=>{let u;let d=(0,n.useRef)(!1),{cache:c,initialSize:f=1,revalidateAll:m=!1,persistSize:v=!1,revalidateFirstPage:p=!0,revalidateOnMount:h=!1,parallel:b=!1}=l;try{(u=s(t))&&(u="$inf$"+u)}catch(e){}let[g,y,_]=(0,a.JN)(c,u),P=(0,n.useCallback)(()=>{let e=(0,a.o8)(g()._l)?f:g()._l;return e},[c,u,f]);(0,o.useSyncExternalStore)((0,n.useCallback)(e=>u?_(u,()=>{e()}):()=>{},[c,u]),P,P);let x=(0,n.useCallback)(()=>{let e=g()._l;return(0,a.o8)(e)?f:e},[u,f]),N=(0,n.useRef)(x());(0,a.LI)(()=>{if(!d.current){d.current=!0;return}u&&y({_l:v?N.current:x()})},[u,c]);let C=h&&!d.current,A=e(u,async e=>{let n=g()._i,o=[],s=x(),[i]=(0,a.JN)(c,e),u=i().data,d=[],f=null;for(let e=0;e<s;++e){let[s,i]=(0,a.qC)(t(e,b?null:f));if(!s)break;let[v,h]=(0,a.JN)(c,s),g=v().data,y=m||n||(0,a.o8)(g)||p&&!e&&!(0,a.o8)(u)||C||u&&!(0,a.o8)(u[e])&&!l.compare(u[e],g);if(r&&y){let t=async()=>{h({data:g=await r(i),_k:i}),o[e]=g};b?d.push(t):await t()}else o[e]=g;b||(f=g)}return b&&await Promise.all(d.map(e=>e())),y({_i:a.i_}),o},l),Z=(0,n.useCallback)(function(e,t){let r="boolean"==typeof t?{revalidate:t}:t||{},n=!1!==r.revalidate;return u?(n&&((0,a.o8)(e)?y({_i:!0}):y({_i:!1})),arguments.length?A.mutate(e,{...r,revalidate:n}):A.mutate()):i},[u,c]),j=(0,n.useCallback)(e=>{let r;if(!u)return i;let[,n]=(0,a.JN)(c,u);if((0,a.mf)(e)?r=e(x()):"number"==typeof e&&(r=e),"number"!=typeof r)return i;n({_l:r}),N.current=r;let l=[],[o]=(0,a.JN)(c,u),s=null;for(let e=0;e<r;++e){let[r]=(0,a.qC)(t(e,s)),[n]=(0,a.JN)(c,r),i=r?n().data:a.i_;if((0,a.o8)(i))return Z(o().data);l.push(i),s=i}return Z(l)},[u,c,Z,x]);return{size:x(),setSize:j,mutate:Z,get data(){return A.data},get error(){return A.error},get isValidating(){return A.isValidating},get isLoading(){return A.isLoading}}})}},function(e){e.O(0,[6685,5166,6012,6691,2971,596,1744],function(){return e(e.s=4356)}),_N_E=e.O()}]);