(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4589],{123:function(e,t,n){Promise.resolve().then(n.t.bind(n,3699,23)),Promise.resolve().then(n.bind(n,7817)),Promise.resolve().then(n.bind(n,6668)),Promise.resolve().then(n.bind(n,2207))},9599:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(7437);n(2265);var a=n(9072),l=n.n(a);function r(e){let{amount:t}=e;return(0,s.jsx)("button",{className:"flex-shrink-0 ".concat(l().heart," bg-left"),children:(0,s.jsx)("span",{className:"flex justify-end text-base font-normal",children:t})})}n(4016)},2207:function(e,t,n){"use strict";let s;n.r(t),n.d(t,{default:function(){return b}});var a=n(7437),l=n(6457),r=n(7217),o=n(713),i={ListUserSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n="".concat(l.bl,"/api/v1/roles?limit=").concat(e,"&offset=").concat(t),{data:s,isLoading:a}=(0,o.ZP)(n,r.Z);return{users:s,isLoading:a,isError:(null==s?void 0:s.status)===!1?null==s?void 0:s.message:""}},RegistrationDeviceNotification:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n="".concat(l.bl,"/notifications/register/");return(0,r.Z)(n,"POST",{name:e,registration_id:t})},ObtainToken:function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i="".concat(l.bl,"/oauth2/token/");return(0,r.Z)(i,"POST",{email:a,password:o,refresh_token:s,grant_type:n,client_id:e,client_secret:t})},RevokeToken:(e,t,n)=>{let s="".concat(l.bl,"/oauth2/token/revoke/");return(0,r.Z)(s,"POST",{token:e,client_id:t,client_secret:n})},UpdateSchool:(e,t,n,s)=>{let a="".concat(l.bl,"/api/v1/school/").concat(e);return(0,r.Z)(a,"PATCH",{name:t,introduction:n,website:s})},ListCommentByIdPost:e=>{let t="".concat(l.bl,"/comments?postId=").concat(e);return(0,r.Z)(t)}},c=n(8625),d=n(175),u=n(4033),m=n(2265),h=n(171),f=n(994),x=n(9531);let v={apiKey:"AIzaSyC3xhEwTZKtSJwacL40ompOAhdrmxMWvyk",authDomain:"koolyard-e880e.firebaseapp.com",projectId:"koolyard-e880e",storageBucket:"koolyard-e880e.appspot.com",messagingSenderId:"1080574209150",appId:"1:1080574209150:web:938ca7cbe440736fb97c2f",measurementId:"G-BZ5G67MTV6"},p={init:async function(){try{let e=0===(0,f.C6)().length?(0,f.ZF)(v):(0,f.C6)()[0];s=(0,x.KL)(e);let t=await (0,x.LP)(s,{vapidKey:"BFo_patIQNgZNcEEQXI9jjNy5dJvg5GWjzUbDXiSlhFhl5R0GnfDj4DCUT2_C987BuVAc1lGF94tsvD-crU2pbQ"});if(t)return t;h.toast.warn("No registration token available. Request permission to generate one.")}catch(e){console.log("An error occurred while retrieving token. ",e)}}};var b=function(e){let{children:t}=e,{access:n,refresh:r,setAccess:o,setRefresh:f}=(0,c.LM)(),{fcmToken:v,setFCMToken:b,addNoti:g}=(0,c.sK)(),[j,N]=(0,m.useState)(null),w=(0,u.useRouter)(),k=async()=>{var e;let t=await p.init();t&&console.log("Get fcm token completed"),n&&await i.RegistrationDeviceNotification(t),b(t),e=e=>g(e),(0,x.ps)(s,t=>{console.log("initForegroundMessage",t),e(t)})};return(0,m.useEffect)(()=>{Reflect.has(window,"Notification")||h.toast.warn("This browser does not support notifications.")},[]),(0,m.useEffect)(()=>{v||k()},[v]),(0,m.useEffect)(()=>{if(n){let{exp:e}=(0,d.Z)(n);if(Date.now()>=1e3*e){h.toast.warn("Sorry, your token has expired! Requesting a new one....");let e=i.ObtainToken(l.Cx,l.DN,"refresh_token",r).then(e=>e).catch(e=>console.log(e));e&&!e.error?(o(e.access_token),f(e.refresh_token),h.toast.success("Requesting new token is completed! Please wait while data is loading..."),w.refresh()):(h.toast.error(e.error_description||e.error),console.log("UserContext",e.error_description||e.error))}}else N("")},[n]),(0,m.useEffect)(()=>{""===j&&(0,u.redirect)("/auth/login?msg=forum")},[j]),(0,a.jsx)(a.Fragment,{children:t})}},5493:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n(7437),a=n(6691),l=n.n(a);function r(e){let{className:t,url:n,name:a}=e;return(0,s.jsx)("div",{className:"avatar placeholder",children:(0,s.jsx)("div",{className:"bg-base-300/60 rounded-full ".concat(t),children:n?(0,s.jsx)(l(),{src:n,alt:"avatar.jpg",width:0,height:0,style:{width:"100%",height:"auto"}}):(0,s.jsx)("span",{className:"text-2xl uppercase",children:a})})})}},7817:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s=n(7437),a=n(8625),l=n(4033),r=n(2265);function o(){let{dark:e,toggleDark:t}=(0,a.qr)();return(0,r.useEffect)(()=>{let t=document.body;t.setAttribute("data-theme",e?"dark":"light")},[e]),(0,s.jsx)("div",{className:"w-8 sm:w-12 h-8 sm:h-12 flex justify-center items-center",children:(0,s.jsxs)("label",{className:"swap swap-rotate",children:[(0,s.jsx)("input",{type:"checkbox",onClick:t}),(0,s.jsx)("svg",{className:"swap-on fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),(0,s.jsx)("svg",{className:"swap-off fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]})})}var i=n(1396),c=n.n(i);function d(){let{noties:e,setNoti:t}=(0,a.sK)(),[n,l]=(0,r.useState)(0),o=(0,r.useRef)();(0,r.useEffect)(()=>{let t=e&&(null==e?void 0:e.filter(e=>!e.isSeen).length);l(t)},[e]);let i=(0,r.useCallback)(()=>{let n=null==e?void 0:e.map(e=>({...e,isSeen:!0}));t(n)},[e]),d=(0,r.useCallback)(()=>{o.current.removeAttribute("open")},[e]);return(0,s.jsx)("div",{className:"flex items-center justify-center w-8 sm:w-12 h-8 sm:h-12",children:(0,s.jsxs)("details",{className:"z-50 h-6 dropdown dropdown-end",ref:o,children:[(0,s.jsxs)("summary",{tabIndex:"1",onClick:i,className:"relative indicator h-full inline-flex items-center cursor-pointer",children:[n>0&&(0,s.jsx)("span",{className:"indicator-item badge badge-sm px-1 badge-secondary",children:n<99?n:"99+"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),(0,s.jsxs)("ul",{tabIndex:"0",className:"z-50 bg-base-100 dropdown-content menu font-normal shadow-2xl rounded-xl w-96",children:[(0,s.jsx)("li",{className:"font-bold border-b border-neutral-focus",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("span",{className:"text-2xl",children:"Notifications"})})}),e&&(null==e?void 0:e.length)!==0?null==e?void 0:e.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsxs)(c(),{href:e.link,onClick:d,className:"flex items-center text-left",children:[(0,s.jsx)("div",{className:"flex-1",children:e.body}),!(null==e?void 0:e.isSeen)&&(0,s.jsx)("span",{className:"rounded-full bg-accent p-1"})]})},"noty-".concat(t))):(0,s.jsx)("li",{className:"text-center p-4",children:"No notification"})]})]})})}var u=n(1824),m=n(8864),h=n.n(m);let f=h()(()=>Promise.resolve().then(n.bind(n,5493)),{loadableGenerated:{webpack:()=>[5493]},ssr:!1});function x(e){var t;let{className:n=""}=e,{toggleSidebar:r}=(0,a.qr)(),{setAccess:i,setRefresh:c,setProfile:m,profile:h}=(0,a.LM)(),x=(0,l.useRouter)();return(0,s.jsx)("div",{className:"backdrop-blur ".concat(n),children:(0,s.jsxs)("nav",{className:"w-full px-1 flex justify-between min-h-16",children:[(0,s.jsxs)("div",{className:"flex items-center px-1",children:[(0,s.jsx)("button",{className:"btn btn-ghost btn-circle mr-2",onClick:r,children:(0,s.jsx)("i",{className:"ri-menu-line text-2xl"})}),(0,s.jsx)("a",{href:"/",className:"overflow-hidden max-h-[69px] relative",children:(0,s.jsx)("img",{className:"logo-mono",alt:"logo.png",height:48,src:"/img/svg/beyond-full.svg"})})]}),(0,s.jsx)(u.Z,{className:"hidden md:block"}),(0,s.jsxs)("div",{className:"inline-flex items-center space-x-3",children:[(0,s.jsx)(o,{}),(0,s.jsx)(d,{}),(0,s.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,s.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:(0,s.jsx)(f,{url:h.avatar,name:null===(t=h.first_name)||void 0===t?void 0:t.charAt(0),className:"w-10 font-normal"})}),(0,s.jsxs)("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-36",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:()=>x.push("/forum/you/profile"),children:"Settings"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:()=>{i(""),c(""),m({}),x.push("/auth/login")},children:"Logout"})})]})]})]})]})})}},1824:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(7437),a=n(2265),l=n(9716),r=n(1513),o=n(209);function i(e){let{className:t=""}=e,[n,i]=(0,a.useState)("Post"),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(""),x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,[n,s]=(0,a.useState)(""),l=(0,a.useRef)();return(0,a.useEffect)(()=>(l.current=setTimeout(()=>s(e),t),()=>{clearTimeout(l.current)}),[e,t]),n}(h,500);(0,a.useEffect)(()=>{x?m(!0):m(!1)},[x]);let v=e=>{d(!1),i(e)};return(0,s.jsx)("div",{className:"container mx-auto p-4 ".concat(t),children:(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("button",{className:"btn btn-sm btn-ghost btn-circle z-10 absolute top-2 left-2",children:(0,s.jsx)("i",{className:"ri-search-line text-xl opacity-80"})}),(0,s.jsxs)("div",{className:"dropdown w-full",children:[(0,s.jsx)("input",{className:"w-full input border-neutral rounded-full pl-10 pr-24",placeholder:"Search",onChange:e=>f(e.target.value),tabIndex:1}),(0,s.jsx)("div",{tabIndex:1,className:"dropdown-content z-40 shadow bg-base-100 rounded-box w-full",children:x&&"User"===n?(0,s.jsx)(o.Z,{loader:u,limit:20,q:x}):"Channel"===n?(0,s.jsx)(r.default,{loader:u,limit:20,q:x}):(0,s.jsx)(l.Z,{loader:u,limit:20,q:x})})]}),(0,s.jsxs)("div",{className:"dropdown dropdown-end absolute right-2 top-2 ".concat(c?"dropdown-open":""),children:[(0,s.jsx)("label",{className:"btn btn-sm rounded-full",onClick:()=>d(!c),children:n}),(0,s.jsxs)("ul",{className:"dropdown-content z-40 menu p-2 shadow bg-base-100 rounded-box w-32",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:()=>v("Post"),children:"Post"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:()=>v("Channel"),children:"Channel"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:()=>v("User"),children:"User"})})]})]})]})})}},9716:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var s=n(7437),a=n(2265),l=n(9599),r=n(1396),o=n.n(r),i=n(5493);function c(e){let{uuid:t,subject:n,author:r,last_comment:c,thumps_up:d,fill:u}=e,[m]=(0,a.useState)(r||{});return(0,s.jsxs)("li",{className:"flex items-center justify-between p-2 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,s.jsx)(i.default,{url:m.avatar,name:n?null==n?void 0:n.charAt(0):"Me",className:"w-12"}),(0,s.jsxs)("div",{className:"ml-2 sm:ml-4 flex-1 line-clamp-2",children:[(0,s.jsx)(o(),{href:"/forum/detail?id=".concat(t),children:(0,s.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:n})}),(0,s.jsxs)("ul",{className:"flex flex-col list-disc sm:list-none sm:flex-row sm:items-center sm:space-x-2",children:[m.full_name&&(0,s.jsx)("li",{className:"text-sm font-normal underline",children:m.full_name}),c&&(0,s.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"}),(0,s.jsx)("li",{className:"text-sm font-normal hidden sm:inline",children:(0,s.jsx)("span",{className:"underline",children:c})})]})]})]}),u&&(0,s.jsx)("div",{className:"flex flex-col items-end",children:(0,s.jsx)(l.Z,{amount:null==d?void 0:d.length})})]})}var d=n(9450);function u(e){let{className:t="",src:n="/api/v1/posts/search",loader:l=!1,limit:r=10,q:o="",fill:i}=e;if(!l)return;let{data:u,error:m,size:h,setSize:f,hitEnd:x}=(0,d.Q)(n,{limit:r,q:o});return m?"An error has occurred.":(0,s.jsxs)("div",{children:[u&&u.map((e,n)=>(0,s.jsx)("ul",{className:"divide-y-2 divide-neutral ".concat(t),children:e.data&&e.data.results&&e.data.results.map((e,t)=>(0,a.createElement)(c,{...e,key:t,fill:i}))},n)),u&&u.length>0?!x&&r<u.length&&(0,s.jsx)("div",{className:"text-center my-4",children:(0,s.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>f(h+1),children:"Load more"})}):(0,s.jsx)("div",{className:"text-center my-4 text-lg",children:"No data"})]})}},209:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(7437),a=n(2265),l=n(1396),r=n.n(l),o=n(5493);function i(e){let{uuid:t,email:n,full_name:a,avatar:l}=e;return(0,s.jsx)("li",{className:"flex items-center justify-between p-2 sm:p-4",children:(0,s.jsxs)("div",{className:"flex justify-center items-center flex-1",children:[(0,s.jsx)(o.default,{url:l,name:a?a.charAt(0):"",className:"w-12"}),(0,s.jsx)("div",{className:"ml-2 sm:ml-4 flex-1 line-clamp-2",children:(0,s.jsxs)(r(),{href:"/user/".concat(t),children:[(0,s.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:a}),(0,s.jsx)("p",{className:"text-sm hover:text-accent-focus",children:n})]})})]})})}var c=n(9450);function d(e){let{className:t="",src:n="/api/v1/users/search",loader:l=!1,limit:r=10,q:o=""}=e;if(!l)return;let{data:d,error:u,size:m,setSize:h,hitEnd:f}=(0,c.Q)(n,{limit:r,q:o});return u?"An error has occurred.":(0,s.jsxs)("div",{children:[d&&d.map((e,n)=>(0,s.jsx)("ul",{className:"divide-y-2 divide-neutral ".concat(t),children:e.data&&e.data.results&&e.data.results.map((e,t)=>(0,a.createElement)(i,{...e,key:t,fill:!0}))},n)),d&&d.length>0?!f&&r<d.length&&(0,s.jsx)("div",{className:"text-center my-4",children:(0,s.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>h(m+1),children:"Load more"})}):(0,s.jsx)("div",{className:"text-center my-4 text-lg",children:"No data"})]})}},6668:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(7437),a=n(1396),l=n.n(a),r=n(8625),o=n(2265),i=n(4033),c=n(6816);function d(e){let{className:t=""}=e,{sidebar:n}=(0,r.qr)(),[a,d]=(0,o.useState)(!0),[u,m]=(0,o.useState)([]),[h,f]=(0,o.useState)(0),x=(0,i.usePathname)(),v=(0,i.useSearchParams)(),p=v.get("channelId"),{channels:b,isLoading:g,isError:j}=c.Z.SearchChannelSchool("created",5,5*h,"");(0,o.useEffect)(()=>{var e;let t=null==b?void 0:null===(e=b.results)||void 0===e?void 0:e.map(e=>({...e,href:"/forum/channel?channelId=".concat(e.id),icon:(0,s.jsx)("i",{className:"ri-hashtag text-2xl"}),active:p===e.id.toString()}));m(t)},[b]);let N=[{label:"Channels",href:"/forum",icon:(0,s.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"min-w-[24px]",children:[(0,s.jsx)("path",{d:"M12 22C6.47699 22 1.99999 17.523 1.99999 12C1.99999 6.477 6.47699 2 12 2C17.523 2 22 6.477 22 12C22.0022 13.978 21.4161 15.9121 20.316 17.556C20.194 17.7375 20.4225 18.886 21 21C18.8855 20.4225 17.7375 20.194 17.556 20.316C15.9121 21.4161 13.978 22.0023 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M15.6973 9.9099H7.30775M13.0763 7.8689L14.5333 16.1309M9.57625 7.8689L11.0333 16.1309M16.6978 13.9999H8.30775",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),active:"/forum/"===x},{label:"Posts",href:"/forum/posts",icon:(0,s.jsx)("i",{className:"ri-file-search-line text-2xl"}),active:x.match(/\/forum\/posts/)},{label:"You",href:"/forum/you/your-posts",icon:(0,s.jsx)("i",{className:"ri-home-line text-2xl"}),active:x.match(/\/forum\/you\/(profile|your-posts|your-channels|your-friends)/g)}];return(0,s.jsx)("div",{className:"sidebar ".concat(n?"sidebar-full":"w-[64px]"," flex flex-col items-center h-full bg-base-100 overflow-y-auto ").concat(t," scrollbar-hide pt-2"),children:(0,s.jsxs)("div",{className:"w-full",children:[N.map((e,t)=>(0,s.jsxs)(l(),{className:"flex items-center w-full h-12 px-5 mt-2 hover:bg-neutral-focus border-solid border-r-base-content ".concat(e.active?"bg-neutral text-base-content border-r-4":"hover:bg-neutral hover:text-base-content"),href:e.href,"data-tippy-content":e.label,"data-tippy-placement":"right",children:[e.icon,(0,s.jsx)("span",{className:"sidebar-text ml-5 text-sm font-medium",children:e.label})]},"sidebar-".concat(t))),(0,s.jsxs)("div",{className:"flex items-center w-full h-12 px-5 mt-2 hover:bg-neutral-focus cursor-pointer",onClick:()=>d(!a),children:[(0,s.jsx)("i",{className:"ri-arrow-right-s-line text-2xl transform duration-100 ".concat(a?"rotate-90":"")}),(0,s.jsx)("span",{className:"sidebar-text ml-5 text-sm font-medium",children:"Your Channels"})]}),(0,s.jsx)("div",{className:"".concat(a?"sidebar-more":"hidden"),children:g||!b?Array.from({length:5},(e,t)=>t+1).map(e=>(0,s.jsxs)("div",{className:"flex items-center w-full h-10 px-5 mb-2",children:[(0,s.jsx)("div",{className:"animate-skeleton w-6 h-6 rounded-full"}),(0,s.jsx)("div",{className:"sidebar-text ml-5",children:(0,s.jsx)("div",{className:"animate-skeleton w-28 h-6"})})]},"loading-item-".concat(e))):null==u?void 0:u.map((e,t)=>(0,s.jsxs)(l(),{className:"flex items-center w-full h-12 px-5 mt-2 hover:bg-neutral-focus ".concat(e.active?"bg-neutral text-base-content border-r-4":"hover:bg-neutral hover:text-base-content"),href:e.href,"data-tippy-content":e.name,"data-tippy-placement":"right",children:[e.icon,(0,s.jsx)("span",{className:"sidebar-text ml-5 text-sm font-medium",children:e.name})]},"channel-".concat(t)))})]})})}n(171)},4016:function(e,t,n){"use strict";var s=n(6457),a=n(7217),l=n(713),r=n(2601);t.Z={ListPinPostForSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n="".concat(s.bl,"/api/v1/posts-pinned?limit=").concat(e,"&offset=").concat(t),{data:r,isLoading:o}=(0,l.ZP)(n,a.Z);return{pinPosts:null==r?void 0:r.data,isLoading:o,isError:(null==r?void 0:r.status)===!1?null==r?void 0:r.message:""}},SearchPostSchool:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="".concat(s.bl,"/api/v1/posts/search?limit=").concat(e,"&offset=").concat(t,"&q=").concat(n),{data:o,isLoading:i}=(0,l.ZP)(r,a.Z);return{posts:null==o?void 0:o.data,isLoading:i,isError:(null==o?void 0:o.status)===!1?null==o?void 0:o.message:""}},GetDetailPost:e=>{let t="".concat(s.bl,"/api/v1/posts/").concat(e),{data:n,isLoading:r,mutate:o}=(0,l.ZP)(t,a.Z);return{post:null==n?void 0:n.data,isLoading:r,isError:(null==n?void 0:n.status)===!1?null==n?void 0:n.message:"",mutate:o}},ListCommentPost:(e,t,n)=>{let r="".concat(s.bl,"/api/v1/posts/").concat(e,"/comments?limit=").concat(t,"&offset=").concat(n),{data:o,isLoading:i}=(0,l.ZP)(r,a.Z);return{comments_post:null==o?void 0:o.data,isLoading:i,isError:(null==o?void 0:o.status)===!1?Object.values(null==o?void 0:o.error)[0]:""}},CreatePostSchool:(e,t,n)=>{let l="".concat(s.bl,"/api/v1/posts");return(0,a.Z)(l,"POST",{subject:e,content:t,tags:n})},UploadImagePost:(e,t,n)=>{let l="".concat(s.bl,"/api/v1/posts/").concat(e,"/image"),r=new FormData;return r.append("image",t),r.append("caption",n),(0,a.Z)(l,"POST",{files:r},{"Content-Type":"multipart/form-data"})},CreateLocationPost:(e,t,n,l,r)=>{let o="".concat(s.bl,"/api/v1/post/").concat(e,"/location");return(0,a.Z)(o,"PUT",{primary_street_name:t,secondary_street_name:n,primary_location:l,secondary_location:r})},PinPostSchool:e=>{let t="".concat(s.bl,"/api/v1/posts/pinned/").concat(e);return(0,a.Z)(t,"PUT")},LikePost:e=>{let t="".concat(s.bl,"/api/v1/posts/").concat(e,"/");return(0,a.Z)(t,"PUT")},RemovePinPostSchool:e=>{let t="".concat(s.bl,"/api/v1/posts/pinned/").concat(e);return(0,a.Z)(t,"DELETE")},RemoveLikePost:e=>{let t="".concat(s.bl,"/api/v1/posts/").concat(e,"/");return(0,a.Z)(t,"DELETE")},TotalPost:()=>{let e="".concat(r.env.NEXT_PUBLIC_BASIC_API_ENDPOINT,"/stats");return(0,a.Z)(e)}}},8625:function(e,t,n){"use strict";n.d(t,{qr:function(){return r},t_:function(){return d},ww:function(){return u},sK:function(){return i},NV:function(){return c},LM:function(){return o}});var s=n(4660),a=n(4810),l=n(5039);let r=(0,s.Ue)((0,a.tJ)((e,t)=>({dark:!1,toggleDark:()=>e({dark:!t().dark}),sidebar:!1,toggleSidebar:()=>e({sidebar:!t().sidebar}),open:!1,openRequestModal:t=>e({open:t})}),{name:"forumApp",storage:(0,a.FL)(()=>l.Z)})),o=(0,s.Ue)((0,a.tJ)((e,t)=>({access:null,refresh:null,profile:{},friendsRequests:[],setAccess:t=>e(()=>({access:t})),setRefresh:t=>e(()=>({refresh:t})),setProfile:t=>e(()=>({profile:t})),setFriendRequests:t=>e(()=>({friendsRequests:t}))}),{name:"forumUser",storage:(0,a.FL)(()=>l.Z)})),i=(0,s.Ue)((0,a.tJ)((e,t)=>({noties:[],fcmToken:"",setFCMToken:t=>e(()=>({fcmToken:t})),setNoti:t=>e(()=>({noties:t})),addNoti:t=>e(e=>{var n,s,a;return{noties:[{link:"/",img:null==t?void 0:null===(n=t.notification)||void 0===n?void 0:n.image,title:null==t?void 0:null===(s=t.notification)||void 0===s?void 0:s.title,body:null==t?void 0:null===(a=t.notification)||void 0===a?void 0:a.body,isSeen:!1},...e.noties]}})}),{name:"forumNoti",storage:(0,a.FL)(()=>l.Z),onRehydrateStorage:e=>{l.Z.getItem("forumNoti").then(t=>{let n=JSON.parse(t),{noties:s,fcmToken:a}=null==n?void 0:n.state;t?(e.setNoti(s),e.setFCMToken(a)):(e.setNoti([]),e.setFCMToken(""))}).catch(e=>{})}})),c=(0,s.Ue)((e,t)=>({dataPosts:[],dataPinPosts:[],loadingAdd:!1,errorAdd:"",loadingAddChannel:!1,errorAddChannel:"",setDataPosts:t=>e(()=>({dataPosts:t})),setDataPinPosts:t=>e(()=>({dataPinPosts:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t})),setLoadingAddChannel:t=>e(()=>({loadingAddChannel:t})),setErrorAddChannel:t=>e(()=>({errorAddChannel:t}))})),d=(0,s.Ue)((e,t)=>({dataChannels:[],loadingAdd:!1,errorAdd:"",setDataChannels:t=>e(()=>({dataChannels:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t}))})),u=(0,s.Ue)((e,t)=>({dataComments:[],loadingAdd:!1,errorAdd:"",setDataComments:t=>e(()=>({dataComments:t})),setLoadingAdd:t=>e(()=>({loadingAdd:t})),setErrorAdd:t=>e(()=>({errorAdd:t}))}))},9072:function(e){e.exports={heart:"Heart_heart__XQp9J",liked:"Heart_liked__3nizD",is_animating:"Heart_is_animating__wMhvd","heart-burst":"Heart_heart-burst__GquLA"}}},function(e){e.O(0,[6685,5166,6012,6691,9051,1513,2971,596,1744],function(){return e(e.s=123)}),_N_E=e.O()}]);