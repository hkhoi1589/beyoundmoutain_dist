"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3397],{3397:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var a=t(7437),l=t(2265),c=t(171),s=t(1855);function o(){return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"flex justify-end pb-3 w-full border-b-2 border-b-neutral",children:(0,a.jsx)("div",{className:"animate-skeleton w-24 h-4"})}),(0,a.jsx)("ul",{children:Array.from({length:6},(e,n)=>n+1).map(e=>(0,a.jsx)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:(0,a.jsxs)("div",{className:"flex justify-center items-start flex-1",children:[(0,a.jsx)("div",{className:"animate-skeleton w-12 h-12 rounded-full"}),(0,a.jsxs)("div",{className:"ml-4 flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"animate-skeleton w-32 h-6 mb-1"}),(0,a.jsx)("div",{className:"animate-skeleton w-28 h-4"})]})]})},"loading-item-".concat(e)))})]})}var r=t(6816),i=t(1396),d=t.n(i),m=t(8274);let h=[{label:"Newest channel",href:"/forum"},{label:"Oldest channel",href:"/forum"},{label:"Most members",href:"/forum"},{label:"Fewest members",href:"/forum"},{label:"A to Z",href:"/forum"},{label:"Z to A",href:"/forum"}];var u=function(){var e,n;let[t,i]=(0,l.useState)(0),{channels:u,isLoading:f,isError:x}=r.Z.SearchChannelSchool(6,6*t,"");return((0,l.useEffect)(()=>{x&&(c.toast.error(x),console.log("ListChannel",x))},[x]),f||!u)?(0,a.jsx)(o,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-end border-b-2 border-b-neutral",children:(0,a.jsx)(m.Z,{items:h,sort:"Newest channel"})}),(0,a.jsx)("ul",{className:"mb-8",children:(null==u?void 0:null===(e=u.results)||void 0===e?void 0:e.length)>0?null==u?void 0:null===(n=u.results)||void 0===n?void 0:n.map((e,n)=>(0,a.jsx)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:(0,a.jsxs)("div",{className:"flex justify-center items-start flex-1",children:[(0,a.jsx)("i",{className:"ri-hashtag text-2xl"}),(0,a.jsxs)("div",{className:"ml-4 flex-1 line-clamp-2",children:[(0,a.jsx)(d(),{href:"/forum/channel?channelId=".concat(e.id),children:(0,a.jsx)("h4",{className:"capitalize hover:text-accent-focus",children:e.name})}),(0,a.jsxs)("ul",{className:"flex flex-col list-disc sm:list-none sm:flex-row sm:items-center sm:space-x-2",children:[e.isJoinded&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("li",{className:"text-xs font-normal text-accent-focus",children:[(0,a.jsx)("i",{className:"ri-check-fill mr-2"}),"joined"]}),(0,a.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.mode&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{className:"text-xs font-normal",children:e.mode}),(0,a.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.owner&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{className:"text-xs font-normal underline",children:e.owner.first_name+" "+e.owner.last_name}),(0,a.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.count&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{className:"text-xs font-normal",children:"".concat(e.count," ").concat(e.count>1?"members":"member")}),(0,a.jsx)("li",{className:"font-bold hidden sm:inline",children:"•"})]}),e.description&&(0,a.jsx)("li",{className:"text-xs font-normal",children:e.description.length>200?"".concat(e.description.substring(0,maxWord),"..."):e.description})]})]})]})},"channel-".concat(n))):(0,a.jsx)("li",{className:"border-b-2 border-b-neutral flex items-center justify-between p-2 sm:p-4",children:(0,a.jsx)("div",{className:"flex justify-center items-start flex-1",children:"No channel in this school"})})}),(0,a.jsx)(s.Z,{page:t+1,total:null==u?void 0:u.count,limit:6,setPage:i})]})}},8274:function(e,n,t){var a=t(7437),l=t(2265);n.Z=function(e){let{classname:n="",items:t,sort:c}=e,[s,o]=(0,l.useState)(c);return(0,a.jsxs)("div",{className:"dropdown dropdown-end ".concat(n),children:[(0,a.jsxs)("label",{tabIndex:"0",className:"cursor-pointer my-auto whitespace-nowrap font-medium text-sm hover:text-accent-focus",children:["Sort: ",s,(0,a.jsx)("i",{className:"ri-arrow-drop-down-line"})]}),(0,a.jsx)("ul",{tabIndex:"0",className:"z-50 dropdown-content menu shadow-lg bg-base-100 rounded-md",children:t.map((e,n)=>(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:e.href,children:e.label})},"sort-".concat(n)))})]})}},1855:function(e,n,t){var a=t(7437),l=t(1787);t(2265),n.Z=function(e){let{page:n,total:t,limit:c,setPage:s}=e,o=e=>{(0,l.tY)(0),s(e)};return(0,a.jsx)("div",{className:"join flex flex-wrap justify-center mb-8 max-w-full",children:Array.from({length:Math.ceil(t/c)},(e,n)=>n+1).map(e=>(0,a.jsx)("button",{onClick:()=>o(e),className:"join-item !rounded-full bg-neutral hover:btn-accent w-10 h-10 p-2 m-2 ".concat(e===n?"btn-active btn-accent":""),children:e},"page-".concat(e)))})}},6816:function(e,n,t){var a=t(6457),l=t(7217),c=t(713);n.Z={GetDetailCommentChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channel/").concat(e,"/comments/").concat(n),{data:s,isLoading:o}=(0,c.ZP)(t,l.Z);return{detail_comment:s,isLoading:o,isError:(null==s?void 0:s.status)===!1&&(null==s?void 0:s.message)}},SearchChannelSchool:(e,n,t)=>{let s="".concat(a.bl,"/api/v1/channels/search?limit=").concat(e,"&offset=").concat(n,"&q=").concat(t),{data:o,isLoading:r}=(0,c.ZP)(s,l.Z);return{channels:null==o?void 0:o.data,isLoading:r,isError:(null==o?void 0:o.status)===!1&&(null==o?void 0:o.message)}},SearchMemberChannel:(e,n,t,s)=>{let o="".concat(a.bl,"/api/v1/channels/").concat(e,"/members/search?limit=").concat(n,"&offset=").concat(t,"&q=").concat(s),{data:r,isLoading:i}=(0,c.ZP)(o,l.Z);return{members:r,isLoading:i,isError:(null==r?void 0:r.status)===!1&&(null==r?void 0:r.message)}},ListPinnedPostsChannel:(e,n,t)=>{let s="".concat(a.bl,"/api/v1/channels/").concat(e,"/posts/pinned?limit=").concat(n,"&offset=").concat(t),{data:o,isLoading:r}=(0,c.ZP)(s,l.Z);return{pin_posts:o,isLoading:r,isError:(null==o?void 0:o.status)===!1&&(null==o?void 0:o.message)}},SearchPostChannel:(e,n,t,s)=>{let o="".concat(a.bl,"/api/v1/channels/").concat(e,"/posts/search?limit=").concat(n,"&offset=").concat(t,"&q=").concat(s),{data:r,isLoading:i}=(0,c.ZP)(o,l.Z);return{posts:r,isLoading:i,isError:(null==r?void 0:r.status)===!1&&(null==r?void 0:r.message)}},CreateChannelSchool:(e,n)=>{let t="".concat(a.bl,"/api/v1/channel");return(0,l.Z)(t,"POST",{name:e,description:n})},InviteUsersChannel:(e,n,t)=>{let c="".concat(a.bl,"/api/v1/channels/").concat(e,"/invitations");return(0,l.Z)(c,"POST",{members:n,message:t})},CreatePostChannel:(e,n,t,c)=>{let s="".concat(a.bl,"/api/v1/channels/").concat(e,"/posts");return(0,l.Z)(s,"POST",{subject:n,content:t,tags:c})},RequestJoinChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channels/").concat(e,"/request");return(0,l.Z)(t,"POST",{message:n})},UpdateCommentChannel:(e,n,t,c,s,o)=>{let r="".concat(a.bl,"/api/v1/channel/").concat(e,"/comments/").concat(n);return(0,l.Z)(r,"PUT",{content:t,author:c,status:s,parent:o})},UpdateChannel:(e,n,t)=>{let c="".concat(a.bl,"/api/v1/channels/").concat(e);return(0,l.Z)(c,"PUT",{name:n,description:t})},PinPostChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channels/").concat(e,"/posts/pinned/").concat(n);return(0,l.Z)(t,"PUT")},AcceptRequestJoinChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channels/").concat(e,"/request/").concat(n);return(0,l.Z)(t,"PUT")},PartialUpdateCommentChannel:(e,n,t,c,s,o)=>{let r="".concat(a.bl,"/api/v1/channel/").concat(e,"/comments/").concat(n);return(0,l.Z)(r,"PATCH",{content:t,author:c,status:s,parent:o})},ChangeStatusChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channels/").concat(e);return(0,l.Z)(t,"PATCH",{status:n})},JoinUsersChannel:e=>{let n="".concat(a.bl,"/api/v1/channels/").concat(e,"/invitations");return(0,l.Z)(n,"PATCH")},UpdatePostChannel:(e,n,t,c,s,o)=>{let r="".concat(a.bl,"/api/v1/channels/").concat(e,"/posts/").concat(n);return(0,l.Z)(r,"PATCH",{subject:t,content:c,is_public:s,tags:o})},DestroyCommentChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channel/").concat(e,"/comments/").concat(n);return(0,l.Z)(t,"DELETE")},RemoveChannel:e=>{let n="".concat(a.bl,"/api/v1/channels/").concat(e);return(0,l.Z)(n,"DELETE")},RejectChannel:e=>{let n="".concat(a.bl,"/api/v1/channels/").concat(e,"/invitations");return(0,l.Z)(n,"DELETE")},RemovePinPostChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channels/").concat(e,"/posts/pinned/").concat(n);return(0,l.Z)(t,"DELETE")},DeletePostChannel:(e,n)=>{let t="".concat(a.bl,"/api/v1/channels/").concat(e,"/posts/").concat(n);return(0,l.Z)(t,"DELETE")},ListChannel:e=>{let n="".concat("https://jsonserver-i5n0.onrender.com","/channels?_page=").concat(e,"&_limit=6"),{data:t,isLoading:a}=(0,c.ZP)(n,l.Z);return{channels:t,isLoading:a,isError:(null==t?void 0:t.status)===!1&&(null==t?void 0:t.message)}}}},5039:function(e,n,t){var a=t(5484);n.Z={getItem:async e=>(0,a.U2)(e).then(e=>e).catch(e=>{}),setItem:async(e,n)=>{await (0,a.t8)(e,n)},removeItem:async e=>{await (0,a.IV)(e)}}},6457:function(e,n,t){t.d(n,{Cx:function(){return a},DN:function(){return l},bl:function(){return c}});let a="w3iggrA5WlOIoKGqvfjTJzdqdYWSsG3dCcUYpVT8",l="VDBAYgCdkAkrIxamKXptPSMrvvNKZFMLEs9Z7hhO4QUbkUR1iKntEXaIlZLiyaZ8wRnEIENbBJBF9PnthzI73LUtYqBmk2qI9yDmAGMKS3yushSzkQewdpTJy4k9O6iT",c="http://ky-de-appli-1fdbxk808lvu0-550379223.us-east-1.elb.amazonaws.com"},7217:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(5039);async function l(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c={method:n?String(n||"").toUpperCase():"GET"};"GET"!==c.method&&(t.files?c.body=t.files:c.body=JSON.stringify(t||{})),c.headers={"Content-Type":"application/json",...l},t.files&&delete c.headers["Content-Type"];let s=await a.Z.getItem("forumUser");if(s){var o;let e=JSON.parse(s),n=null==e?void 0:null===(o=e.state)||void 0===o?void 0:o.access;n&&(c.headers.Authorization="Bearer ".concat(n))}return fetch(e,c).then(e=>e.json())}},1787:function(e,n,t){t.d(n,{tY:function(){return a}});let a=function(e){window.scrollTo({top:e,behavior:"smooth"})}}}]);